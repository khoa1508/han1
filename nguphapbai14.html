<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ngá»¯ phÃ¡p HÃ¡n ngá»¯ BÃ i 14: æœ‰ç‚¹å„¿, ä¸€ç‚¹å„¿ & è¿˜æ˜¯</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Custom styles */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* Tailwind gray-50 */
        }
        .pinyin, .viet-meaning {
            display: none; /* Hide by default */
            transition: all 0.3s ease-in-out;
        }
        .show-pinyin .pinyin {
            display: block;
        }
        .show-viet .viet-meaning {
            display: block;
        }
        .tab-active {
            border-color: #3b82f6; /* blue-500 */
            background-color: #3b82f6;
            color: white;
        }
        .answer {
            display: none;
            background-color: #eef2ff; /* indigo-50 */
            border-left: 4px solid #6366f1; /* indigo-500 */
        }
        .draggable {
            cursor: move;
            transition: transform 0.2s ease;
        }
        .dragging {
            opacity: 0.5;
            transform: scale(1.05);
        }
        .drop-zone {
            border: 2px dashed #9ca3af; /* gray-400 */
            min-height: 50px;
        }
        .drop-zone.drag-over {
            border-color: #3b82f6; /* blue-500 */
            background-color: #eff6ff; /* blue-50 */
        }
        .feedback {
            display: none;
            font-weight: 600;
        }
        .feedback.correct {
            display: block;
            color: #16a34a; /* green-600 */
        }
        .feedback.incorrect {
            display: block;
            color: #dc2626; /* red-600 */
        }
    </style>
</head>
<body class="text-gray-800">

    <div id="app-container" class="max-w-5xl mx-auto p-4 sm:p-6 lg:p-8">
        
        <!-- Header -->
        <header class="text-center mb-8">
            <h1 class="text-3xl sm:text-4xl font-bold text-blue-600 mb-2">Ngá»¯ phÃ¡p HÃ¡n ngá»¯ - BÃ i 14</h1>
            <p class="text-lg text-gray-600">PhÃ¢n biá»‡t æœ‰ç‚¹å„¿ (yÇ’udiÇnr), ä¸€ç‚¹å„¿ (yÄ«diÇnr) vÃ  cÃ¡ch dÃ¹ng è¿˜æ˜¯ (hÃ¡ishi)</p>
        </header>

        <!-- Global Controls -->
        <div class="flex justify-center items-center space-x-4 mb-8 p-4 bg-white rounded-xl shadow-md">
            <span class="font-semibold text-gray-700">TÃ¹y chá»n hiá»ƒn thá»‹:</span>
            <button id="toggle-pinyin-btn" class="px-4 py-2 bg-blue-100 text-blue-700 font-semibold rounded-lg hover:bg-blue-200 transition-colors">Báº­t/Táº¯t Pinyin</button>
            <button id="toggle-viet-btn" class="px-4 py-2 bg-indigo-100 text-indigo-700 font-semibold rounded-lg hover:bg-indigo-200 transition-colors">Báº­t/Táº¯t NghÄ©a Viá»‡t</button>
        </div>

        <!-- Tab Navigation -->
        <div class="mb-8">
            <div id="tabs" class="flex justify-center border-b border-gray-200">
                <button data-tab="grammar" class="tab-btn px-6 py-3 font-semibold text-gray-500 border-b-2 border-transparent hover:text-blue-600 hover:border-blue-600 transition-all tab-active">
                    ğŸ“– Ngá»¯ phÃ¡p
                </button>
                <button data-tab="context" class="tab-btn px-6 py-3 font-semibold text-gray-500 border-b-2 border-transparent hover:text-blue-600 hover:border-blue-600 transition-all">
                    ğŸ’¬ Máº«u cÃ¢u & Ngá»¯ cáº£nh
                </button>
                <button data-tab="practice" class="tab-btn px-6 py-3 font-semibold text-gray-500 border-b-2 border-transparent hover:text-blue-600 hover:border-blue-600 transition-all">
                    âœï¸ Luyá»‡n táº­p
                </button>
            </div>
        </div>

        <!-- Main Content -->
        <main>
            <!-- Grammar Section -->
            <div id="grammar" class="tab-content">
                <div class="bg-white p-6 rounded-xl shadow-lg">
                    <!-- æœ‰ç‚¹å„¿ vs ä¸€ç‚¹å„¿ -->
                    <div class="mb-8">
                        <h2 class="text-2xl font-bold mb-4 text-indigo-600">A. PhÃ¢n biá»‡t æœ‰ç‚¹å„¿ (yÇ’udiÇnr) vÃ  ä¸€ç‚¹å„¿ (yÄ«diÇnr)</h2>
                        <p class="mb-6 text-gray-600">`æœ‰ç‚¹å„¿` vÃ  `ä¸€ç‚¹å„¿` Ä‘á»u cÃ³ nghÄ©a lÃ  "má»™t chÃºt", nhÆ°ng cÃ¡ch dÃ¹ng vÃ  sáº¯c thÃ¡i biá»ƒu cáº£m hoÃ n toÃ n khÃ¡c nhau. HÃ£y cÃ¹ng phÃ¢n biá»‡t nhÃ©!</p>
                        <div class="overflow-x-auto">
                            <table class="w-full text-left border-collapse">
                                <thead>
                                    <tr class="bg-gray-100">
                                        <th class="p-4 font-semibold border-b-2 border-gray-200">TiÃªu chÃ­</th>
                                        <th class="p-4 font-semibold border-b-2 border-gray-200">æœ‰ç‚¹å„¿ (yÇ’udiÇnr)</th>
                                        <th class="p-4 font-semibold border-b-2 border-gray-200">ä¸€ç‚¹å„¿ (yÄ«diÇnr)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="border-b border-gray-200">
                                        <td class="p-4 font-medium">Biá»ƒu tÆ°á»£ng</td>
                                        <td class="p-4">ğŸ˜• (ThÆ°á»ng mang sáº¯c thÃ¡i phÃ n nÃ n, khÃ´ng vá»«a Ã½)</td>
                                        <td class="p-4">ğŸ˜Š (Mang sáº¯c thÃ¡i Ä‘á» nghá»‹, miÃªu táº£ khÃ¡ch quan)</td>
                                    </tr>
                                    <tr class="border-b border-gray-200 bg-gray-50">
                                        <td class="p-4 font-medium">CÃ´ng thá»©c</td>
                                        <td class="p-4 font-mono">S + æœ‰ç‚¹å„¿ + Adj/V(tÃ¢m lÃ½)</td>
                                        <td class="p-4 font-mono">1. V + ä¸€ç‚¹å„¿ + N <br> 2. Adj + ä¸€ç‚¹å„¿</td>
                                    </tr>
                                    <tr class="border-b border-gray-200">
                                        <td class="p-4 font-medium">VÃ­ dá»¥</td>
                                        <td class="p-4">
                                            <p class="text-lg">æˆ‘æœ€è¿‘<strong class="text-red-500">æœ‰ç‚¹å„¿</strong>å¿™ã€‚</p>
                                            <p class="pinyin text-gray-500">wÇ’ zuÃ¬jÃ¬n yÇ’udiÇnr mÃ¡ng.</p>
                                            <p class="viet-meaning text-blue-600 italic">Dáº¡o nÃ y tÃ´i hÆ¡i báº­n.</p>
                                        </td>
                                        <td class="p-4">
                                            <p class="text-lg">å–<strong class="text-green-500">ç‚¹å„¿</strong>ä»€ä¹ˆï¼Ÿ</p>
                                            <p class="pinyin text-gray-500">hÄ“ diÇnr shÃ©nme?</p>
                                            <p class="viet-meaning text-blue-600 italic">Uá»‘ng má»™t chÃºt gÃ¬ khÃ´ng?</p>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <!-- è¿˜æ˜¯ -->
                    <div>
                        <h2 class="text-2xl font-bold mb-4 text-indigo-600">B. CÃ¢u há»i lá»±a chá»n vá»›i è¿˜æ˜¯ (hÃ¡ishi)</h2>
                        <p class="mb-4 text-gray-600">`è¿˜æ˜¯` (hÃ¡ishi) lÃ  "Ã¡t chá»§ bÃ i" khi báº¡n muá»‘n Ä‘áº·t cÃ¢u há»i yÃªu cáº§u ngÆ°á»i nghe lá»±a chá»n giá»¯a hai hoáº·c nhiá»u kháº£ nÄƒng.</p>
                        <div class="bg-blue-50 p-4 rounded-lg">
                            <p class="mb-2"><strong class="font-semibold">CÃ´ng thá»©c:</strong> <code class="bg-gray-200 px-2 py-1 rounded">... A + è¿˜æ˜¯ + B?</code></p>
                            <p class="mb-4"><strong class="font-semibold">Ã nghÄ©a:</strong> "... A hay lÃ  B?"</p>
                            <div class="space-y-2">
                                <p class="text-lg">ä½ çš„è½¦æ˜¯æ–°çš„<strong class="text-purple-600">è¿˜æ˜¯</strong>æ—§çš„ï¼Ÿ</p>
                                <p class="pinyin text-gray-500">nÇ de chÄ“ shÃ¬ xÄ«n de hÃ¡ishi jiÃ¹ de?</p>
                                <p class="viet-meaning text-blue-600 italic">Xe cá»§a báº¡n lÃ  xe má»›i hay cÅ©?</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Context Section -->
            <div id="context" class="tab-content hidden">
                <div class="bg-white p-6 rounded-xl shadow-lg space-y-8">
                    <div>
                        <h2 class="text-2xl font-bold mb-4 text-indigo-600">Ngá»¯ cáº£nh 1: Tháº§y VÆ°Æ¡ng vÃ  GiÃ¡m Ä‘á»‘c Quan gáº·p láº¡i</h2>
                        <div class="space-y-4 p-4 border-l-4 border-blue-400 bg-blue-50 rounded-r-lg">
                            <p><strong class="font-semibold">å…³ç»ç†:</strong> ç‹è€å¸ˆï¼Œå¥½ä¹…ä¸è§äº†ã€‚</p>
                            <p><strong class="font-semibold text-blue-700">Tháº§y VÆ°Æ¡ng:</strong> å•Šï¼å…³ç»ç†ï¼Œæ¬¢è¿ï¼åˆšå¼€å­¦ï¼Œ<strong class="text-red-500">æœ‰ç‚¹å„¿</strong>å¿™ã€‚å–ç‚¹å„¿ä»€ä¹ˆï¼ŸèŒ¶<strong class="text-purple-600">è¿˜æ˜¯</strong>å’–å•¡ï¼Ÿ</p>
                            <p class="pinyin text-gray-500">Ã€! GuÄn jÄ«nglÇ, huÄnyÃ­ng! GÄng kÄixuÃ©, <strong class="text-red-500">yÇ’udiÇnr</strong> mÃ¡ng. HÄ“ diÇnr shÃ©nme? ChÃ¡ <strong class="text-purple-600">hÃ¡ishi</strong> kÄfÄ“i?</p>
                            <p class="viet-meaning text-blue-600 italic">A! GiÃ¡m Ä‘á»‘c Quan, chÃ o má»«ng! Má»›i khai giáº£ng, nÃªn hÆ¡i báº­n má»™t chÃºt. NgÃ i uá»‘ng chÃºt gÃ¬ khÃ´ng? TrÃ  hay cÃ  phÃª?</p>
                        </div>
                    </div>
                    <div>
                        <h2 class="text-2xl font-bold mb-4 text-indigo-600">Ngá»¯ cáº£nh 2: TÃ¬m xe Ä‘áº¡p</h2>
                        <div class="space-y-4 p-4 border-l-4 border-green-400 bg-green-50 rounded-r-lg">
                            <p><strong class="font-semibold">ç”°èŠ³:</strong> æˆ‘çš„è½¦å‘¢ï¼Ÿ</p>
                            <p><strong class="font-semibold text-green-700">å¼ ä¸œ:</strong> ä½ çš„è½¦æ˜¯ä»€ä¹ˆé¢œè‰²çš„ï¼Ÿæ˜¯æ–°çš„<strong class="text-purple-600">è¿˜æ˜¯</strong>æ—§çš„ï¼Ÿ</p>
                            <p class="pinyin text-gray-500">NÇ de chÄ“ shÃ¬ shÃ©nme yÃ¡nsÃ¨ de? ShÃ¬ xÄ«n de <strong class="text-purple-600">hÃ¡ishi</strong> jiÃ¹ de?</p>
                            <p class="viet-meaning text-blue-600 italic">Xe cá»§a báº¡n mÃ u gÃ¬? LÃ  xe má»›i hay cÅ©?</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Practice Section -->
            <div id="practice" class="tab-content hidden">
                <div class="bg-white p-6 rounded-xl shadow-lg space-y-10">
                    <!-- Exercise 1 -->
                    <div>
                        <h2 class="text-2xl font-bold mb-4 text-indigo-600">BÃ i 1: Chá»n tá»« Ä‘Ãºng - `æœ‰ç‚¹å„¿` hay `ä¸€ç‚¹å„¿`?</h2>
                        <div class="space-y-4">
                            <div class="exercise-item">
                                <p class="text-lg">1. è¿™ä»¶è¡£æœ ______ è´µï¼Œæˆ‘ä¸æƒ³ä¹°ã€‚</p>
                                <button class="toggle-answer mt-2 px-3 py-1 text-sm bg-gray-200 rounded hover:bg-gray-300">Xem Ä‘Ã¡p Ã¡n</button>
                                <p class="answer mt-2 p-2"><strong>ÄÃ¡p Ã¡n:</strong> æœ‰ç‚¹å„¿ (Diá»…n táº£ sá»± phÃ n nÃ n "hÆ¡i Ä‘áº¯t quÃ¡").</p>
                            </div>
                            <div class="exercise-item">
                                <p class="text-lg">2. æˆ‘ä»Šå¤©å¾ˆç´¯ï¼Œåªæƒ³åƒ ______ ä¸œè¥¿ã€‚</p>
                                <button class="toggle-answer mt-2 px-3 py-1 text-sm bg-gray-200 rounded hover:bg-gray-300">Xem Ä‘Ã¡p Ã¡n</button>
                                <p class="answer mt-2 p-2"><strong>ÄÃ¡p Ã¡n:</strong> ä¸€ç‚¹å„¿ (Äá»™ng tá»« + ä¸€ç‚¹å„¿ + Danh tá»«: Äƒn má»™t chÃºt Ä‘á»“).</p>
                            </div>
                             <div class="exercise-item">
                                <p class="text-lg">3. ä»–ä»Šå¤© ______ ä¸é«˜å…´ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆã€‚</p>
                                <button class="toggle-answer mt-2 px-3 py-1 text-sm bg-gray-200 rounded hover:bg-gray-300">Xem Ä‘Ã¡p Ã¡n</button>
                                <p class="answer mt-2 p-2"><strong>ÄÃ¡p Ã¡n:</strong> æœ‰ç‚¹å„¿ (Chá»‰ tráº¡ng thÃ¡i tÃ¢m lÃ½ "hÆ¡i khÃ´ng vui").</p>
                            </div>
                        </div>
                    </div>
                    <!-- Exercise 2 -->
                    <div>
                        <h2 class="text-2xl font-bold mb-4 text-indigo-600">BÃ i 2: Dá»±ng cÃ¢u há»i vá»›i `è¿˜æ˜¯`</h2>
                        <div class="space-y-4">
                            <div class="exercise-item">
                                <p class="text-lg">1. å­¦ä¹ è‹±è¯­ / å­¦ä¹ æ±‰è¯­</p>
                                <button class="toggle-answer mt-2 px-3 py-1 text-sm bg-gray-200 rounded hover:bg-gray-300">Xem Ä‘Ã¡p Ã¡n</button>
                                <p class="answer mt-2 p-2"><strong>ÄÃ¡p Ã¡n:</strong> ä½ å­¦ä¹ è‹±è¯­è¿˜æ˜¯å­¦ä¹ æ±‰è¯­ï¼Ÿ</p>
                            </div>
                            <div class="exercise-item">
                                <p class="text-lg">2. å»é“¶è¡Œ / å»é‚®å±€</p>
                                <button class="toggle-answer mt-2 px-3 py-1 text-sm bg-gray-200 rounded hover:bg-gray-300">Xem Ä‘Ã¡p Ã¡n</button>
                                <p class="answer mt-2 p-2"><strong>ÄÃ¡p Ã¡n:</strong> ä½ å»é“¶è¡Œè¿˜æ˜¯å»é‚®å±€ï¼Ÿ</p>
                            </div>
                        </div>
                    </div>
                    <!-- Exercise 3: Drag and Drop -->
                    <div>
                        <h2 class="text-2xl font-bold mb-4 text-indigo-600">BÃ i 3: Sáº¯p xáº¿p cÃ¢u</h2>
                        <p class="mb-4 text-gray-600">KÃ©o cÃ¡c tá»« vÃ o Ã´ trá»‘ng Ä‘á»ƒ táº¡o thÃ nh cÃ¢u hoÃ n chá»‰nh.</p>
                        <div id="drag-drop-exercise">
                            <div id="source-words" class="flex flex-wrap gap-2 p-4 bg-gray-100 rounded-lg mb-4">
                                <div class="draggable bg-white p-2 rounded shadow border" draggable="true">è¿˜æ˜¯</div>
                                <div class="draggable bg-white p-2 rounded shadow border" draggable="true">ä»–çš„</div>
                                <div class="draggable bg-white p-2 rounded shadow border" draggable="true">è‡ªè¡Œè½¦</div>
                                <div class="draggable bg-white p-2 rounded shadow border" draggable="true">æ—§çš„</div>
                                <div class="draggable bg-white p-2 rounded shadow border" draggable="true">æ–°çš„</div>
                                <div class="draggable bg-white p-2 rounded shadow border" draggable="true">æ˜¯</div>
                            </div>
                            <div id="drop-zone" class="drop-zone flex flex-wrap gap-2 p-4 rounded-lg items-center"></div>
                            <div class="mt-4 flex items-center space-x-4">
                                <button id="check-dnd-btn" class="px-4 py-2 bg-blue-500 text-white font-semibold rounded-lg hover:bg-blue-600">Kiá»ƒm tra</button>
                                <button id="reset-dnd-btn" class="px-4 py-2 bg-gray-500 text-white font-semibold rounded-lg hover:bg-gray-600">LÃ m láº¡i</button>
                                <span id="dnd-feedback" class="feedback"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // --- Global Toggles ---
            const appContainer = document.getElementById('app-container');
            const togglePinyinBtn = document.getElementById('toggle-pinyin-btn');
            const toggleVietBtn = document.getElementById('toggle-viet-btn');

            togglePinyinBtn.addEventListener('click', () => {
                appContainer.classList.toggle('show-pinyin');
            });

            toggleVietBtn.addEventListener('click', () => {
                appContainer.classList.toggle('show-viet');
            });

            // --- Tab Navigation ---
            const tabsContainer = document.getElementById('tabs');
            const tabButtons = document.querySelectorAll('.tab-btn');
            const tabContents = document.querySelectorAll('.tab-content');

            tabsContainer.addEventListener('click', (e) => {
                const clickedTab = e.target.closest('.tab-btn');
                if (!clickedTab) return;

                const tabId = clickedTab.dataset.tab;

                // Update button styles
                tabButtons.forEach(btn => btn.classList.remove('tab-active'));
                clickedTab.classList.add('tab-active');

                // Update content visibility
                tabContents.forEach(content => {
                    if (content.id === tabId) {
                        content.classList.remove('hidden');
                    } else {
                        content.classList.add('hidden');
                    }
                });
            });

            // --- Exercise Answer Toggles ---
            const answerToggles = document.querySelectorAll('.toggle-answer');
            answerToggles.forEach(button => {
                button.addEventListener('click', () => {
                    const answer = button.nextElementSibling;
                    if (answer.style.display === 'block') {
                        answer.style.display = 'none';
                        button.textContent = 'Xem Ä‘Ã¡p Ã¡n';
                    } else {
                        answer.style.display = 'block';
                        button.textContent = 'áº¨n Ä‘Ã¡p Ã¡n';
                    }
                });
            });

            // --- Drag and Drop Exercise ---
            const draggables = document.querySelectorAll('.draggable');
            const dropZone = document.getElementById('drop-zone');
            const sourceWordsContainer = document.getElementById('source-words');
            const checkBtn = document.getElementById('check-dnd-btn');
            const resetBtn = document.getElementById('reset-dnd-btn');
            const feedbackEl = document.getElementById('dnd-feedback');
            const correctAnswer = "ä»–çš„è‡ªè¡Œè½¦æ˜¯æ–°çš„è¿˜æ˜¯æ—§çš„";

            draggables.forEach(draggable => {
                draggable.addEventListener('dragstart', () => {
                    draggable.classList.add('dragging');
                });
                draggable.addEventListener('dragend', () => {
                    draggable.classList.remove('dragging');
                });
            });

            function setupDropZoneEvents(container) {
                container.addEventListener('dragover', e => {
                    e.preventDefault();
                    container.classList.add('drag-over');
                    const afterElement = getDragAfterElement(container, e.clientY);
                    const dragging = document.querySelector('.dragging');
                    if (afterElement == null) {
                        container.appendChild(dragging);
                    } else {
                        container.insertBefore(dragging, afterElement);
                    }
                });
                 container.addEventListener('dragleave', () => {
                    container.classList.remove('drag-over');
                });
                container.addEventListener('drop', () => {
                    container.classList.remove('drag-over');
                });
            }

            setupDropZoneEvents(dropZone);
            setupDropZoneEvents(sourceWordsContainer);


            function getDragAfterElement(container, y) {
                const draggableElements = [...container.querySelectorAll('.draggable:not(.dragging)')];
                return draggableElements.reduce((closest, child) => {
                    const box = child.getBoundingClientRect();
                    const offset = y - box.top - box.height / 2;
                    if (offset < 0 && offset > closest.offset) {
                        return { offset: offset, element: child };
                    } else {
                        return closest;
                    }
                }, { offset: Number.NEGATIVE_INFINITY }).element;
            }

            checkBtn.addEventListener('click', () => {
                const userWords = [...dropZone.querySelectorAll('.draggable')];
                const userAnswer = userWords.map(word => word.textContent).join('');
                
                feedbackEl.classList.remove('correct', 'incorrect');

                if (userAnswer === correctAnswer) {
                    feedbackEl.textContent = 'ChÃ­nh xÃ¡c! Ráº¥t tá»‘t!';
                    feedbackEl.classList.add('correct');
                } else {
                    feedbackEl.textContent = 'ChÆ°a Ä‘Ãºng, hÃ£y thá»­ láº¡i nhÃ©!';
                    feedbackEl.classList.add('incorrect');
                }
            });

            resetBtn.addEventListener('click', () => {
                const words = [...dropZone.querySelectorAll('.draggable')];
                words.forEach(word => sourceWordsContainer.appendChild(word));
                feedbackEl.classList.remove('correct', 'incorrect');
                feedbackEl.style.display = 'none';
            });

        });
    </script>
</body>
</html>
