<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GiÃ¡o Ãn BÃ i 7: Báº¡n Äƒn gÃ¬? - HÃ¡n ngá»¯ 1</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #fdfbf7; /* MÃ u giáº¥y nháº¹ */
        }
        .cn-text {
            font-family: 'Noto Sans SC', sans-serif;
        }
        /* Flip Card Styles */
        .perspective-1000 { perspective: 1000px; }
        .transform-style-3d { transform-style: preserve-3d; }
        .backface-hidden { backface-visibility: hidden; }
        .rotate-y-180 { transform: rotateY(180deg); }
        
        .flip-card-inner {
            transition: transform 0.6s;
        }
        .flip-card.flipped .flip-card-inner {
            transform: rotateY(180deg);
        }

        /* Drag and Drop Styles */
        .draggable {
            cursor: grab;
            user-select: none;
        }
        .draggable:active {
            cursor: grabbing;
        }
        .drop-zone {
            transition: all 0.3s ease;
        }
        .drop-zone.drag-over {
            background-color: #fed7aa; /* orange-200 */
            border-color: #ea580c; /* orange-600 */
            transform: scale(1.02);
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #ea580c; border-radius: 4px; }
    </style>
</head>
<body class="text-gray-800">

    <!-- Navigation -->
    <nav class="bg-orange-600 text-white sticky top-0 z-50 shadow-lg">
        <div class="container mx-auto px-4 py-3 flex flex-wrap justify-between items-center">
            <h1 class="text-xl font-bold"><i class="fas fa-book-open mr-2"></i>HÃ¡n ngá»¯ 1 - BÃ i 7</h1>
            <div class="hidden md:flex space-x-4 text-sm font-medium">
                <a href="#warmup" class="hover:text-orange-200 transition">Khá»Ÿi Ä‘á»™ng</a>
                <a href="#vocab" class="hover:text-orange-200 transition">Tá»« vá»±ng</a>
                <a href="#classification" class="hover:text-orange-200 transition">PhÃ¢n loáº¡i</a>
                <a href="#grammar" class="hover:text-orange-200 transition">Ngá»¯ phÃ¡p</a>
                <a href="#daily-routine" class="hover:text-orange-200 transition border-b-2 border-white pb-1">NgÃ y cá»§a tÃ´i (Má»›i)</a>
                <a href="#practice" class="hover:text-orange-200 transition">Thá»±c hÃ nh</a>
            </div>
        </div>
    </nav>

    <!-- Header -->
    <header class="bg-orange-100 py-10 text-center border-b border-orange-200">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-orange-800 mb-2 cn-text">ä½ åƒä»€ä¹ˆ?</h2>
            <h3 class="text-2xl text-orange-700 mb-4">NÇ chÄ« shÃ©nme? - Báº¡n Äƒn gÃ¬?</h3>
            <p class="text-gray-600 max-w-2xl mx-auto">Má»¥c tiÃªu: Há»c viÃªn cÃ³ thá»ƒ gá»i mÃ³n Äƒn, nÃ³i vá» hoáº¡t Ä‘á»™ng trong ngÃ y vÃ  sá»­ dá»¥ng Ä‘Ãºng biáº¿n Ä‘iá»‡u cá»§a "YÄ«".</p>
        </div>
    </header>

    <!-- Pháº§n 1: Khá»Ÿi Ä‘á»™ng -->
    <section id="warmup" class="py-12 container mx-auto px-4">
        <div class="flex items-center mb-6">
            <div class="bg-orange-600 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold mr-3">1</div>
            <h2 class="text-2xl font-bold text-gray-800">Khá»Ÿi Ä‘á»™ng & Brainstorming</h2>
        </div>
        
        <div class="bg-white rounded-xl shadow-md p-6 border-l-4 border-orange-500">
            <h3 class="text-xl font-bold mb-4 text-orange-700"><i class="fas fa-brain mr-2"></i>Hoáº¡t Ä‘á»™ng: "Bá»¯a trÆ°a trong mÆ¡"</h3>
            <div class="grid md:grid-cols-2 gap-6 items-center">
                <div>
                    <img src="https://images.unsplash.com/photo-1540189549336-e6e99c3679fe?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Food Table" class="rounded-lg shadow-sm w-full h-64 object-cover">
                </div>
                <div class="space-y-4">
                    <div class="bg-orange-50 p-4 rounded-lg cursor-pointer hover:bg-orange-100 transition group" onclick="this.classList.toggle('bg-orange-200')">
                        <p class="font-semibold text-orange-800">â“ CÃ¢u há»i 1:</p>
                        <p>Náº¿u bÃ¢y giá» Ä‘Æ°á»£c chá»n má»™t mÃ³n Äƒn báº¥t ká»³ trÃªn tháº¿ giá»›i, báº¡n sáº½ chá»n gÃ¬? Táº¡i sao?</p>
                    </div>
                    <div class="bg-orange-50 p-4 rounded-lg cursor-pointer hover:bg-orange-100 transition group" onclick="this.classList.toggle('bg-orange-200')">
                        <p class="font-semibold text-orange-800">â“ CÃ¢u há»i 2:</p>
                        <p>á» Viá»‡t Nam, mÃ³n Äƒn nÃ o Ä‘áº·c trÆ°ng cho bá»¯a sÃ¡ng? CÃ²n Trung Quá»‘c thÃ¬ sao? (Gá»£i Ã½: MÃ¡ntou, BÄozi)</p>
                    </div>
                    <div class="bg-orange-50 p-4 rounded-lg cursor-pointer hover:bg-orange-100 transition group" onclick="this.classList.toggle('bg-orange-200')">
                        <p class="font-semibold text-orange-800">â“ CÃ¢u há»i 3:</p>
                        <p>MÃ n tháº§u (MÃ¡ntou) cÃ³ vá»‹ gÃ¬? Táº¡i sao ngÆ°á»i TQ Äƒn nÃ³ thay cÆ¡m?</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Pháº§n 2: Tá»« vá»±ng (Flashcards) -->
    <section id="vocab" class="py-12 bg-orange-50">
        <div class="container mx-auto px-4">
            <div class="flex items-center mb-6">
                <div class="bg-orange-600 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold mr-3">2</div>
                <h2 class="text-2xl font-bold text-gray-800">Tá»« vá»±ng & VÄƒn hÃ³a (Click Ä‘á»ƒ láº­t tháº»)</h2>
            </div>

            <!-- Filter Buttons -->
            <div class="flex flex-wrap gap-2 mb-6 justify-center" id="vocab-filters">
                <button class="px-4 py-2 bg-orange-600 text-white rounded-full text-sm hover:bg-orange-700 transition" onclick="filterVocab('all')">Táº¥t cáº£</button>
                <button class="px-4 py-2 bg-white text-orange-600 border border-orange-600 rounded-full text-sm hover:bg-orange-50 transition" onclick="filterVocab('time')">Thá»i gian</button>
                <button class="px-4 py-2 bg-white text-orange-600 border border-orange-600 rounded-full text-sm hover:bg-orange-50 transition" onclick="filterVocab('food')">Äá»“ Äƒn/uá»‘ng</button>
                <button class="px-4 py-2 bg-white text-orange-600 border border-orange-600 rounded-full text-sm hover:bg-orange-50 transition" onclick="filterVocab('action')">HÃ nh Ä‘á»™ng</button>
            </div>

            <!-- Flashcards Grid -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-6" id="flashcard-container">
                <!-- Cards will be injected by JS -->
            </div>
        </div>
    </section>

    <!-- Pháº§n 2.5: PhÃ¢n loáº¡i tá»« vá»±ng (Game) -->
    <section id="classification" class="py-12 bg-white border-t border-orange-100">
        <div class="container mx-auto px-4">
            <div class="flex items-center mb-6">
                <div class="bg-orange-600 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold mr-3"><i class="fas fa-layer-group"></i></div>
                <h2 class="text-2xl font-bold text-gray-800">BÃ i táº­p: PhÃ¢n nhÃ³m tá»« vá»±ng</h2>
            </div>
            <p class="mb-6 text-center text-gray-600 italic">KÃ©o cÃ¡c tá»« á»Ÿ dÆ°á»›i vÃ o Ä‘Ãºng nhÃ³m cá»§a chÃºng (ÄÃ£ cáº­p nháº­t tá»« má»›i)!</p>

            <!-- Drop Zones -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
                <div class="drop-zone border-2 border-dashed border-blue-300 bg-blue-50 rounded-xl p-4 min-h-[150px]" data-type="food">
                    <h4 class="text-center font-bold text-blue-600 mb-2"><i class="fas fa-utensils mr-2"></i>Äá»“ Äƒn/uá»‘ng</h4>
                    <div class="dropped-items flex flex-wrap gap-2 justify-center"></div>
                </div>
                <div class="drop-zone border-2 border-dashed border-purple-300 bg-purple-50 rounded-xl p-4 min-h-[150px]" data-type="time">
                    <h4 class="text-center font-bold text-purple-600 mb-2"><i class="fas fa-clock mr-2"></i>Thá»i gian</h4>
                    <div class="dropped-items flex flex-wrap gap-2 justify-center"></div>
                </div>
                <div class="drop-zone border-2 border-dashed border-red-300 bg-red-50 rounded-xl p-4 min-h-[150px]" data-type="action">
                    <h4 class="text-center font-bold text-red-600 mb-2"><i class="fas fa-running mr-2"></i>HÃ nh Ä‘á»™ng</h4>
                    <div class="dropped-items flex flex-wrap gap-2 justify-center"></div>
                </div>
                <div class="drop-zone border-2 border-dashed border-green-300 bg-green-50 rounded-xl p-4 min-h-[150px]" data-type="place">
                    <h4 class="text-center font-bold text-green-600 mb-2"><i class="fas fa-map-marker-alt mr-2"></i>Äá»‹a Ä‘iá»ƒm</h4>
                    <div class="dropped-items flex flex-wrap gap-2 justify-center"></div>
                </div>
            </div>

            <!-- Draggable Items Pool -->
            <div id="word-pool" class="flex flex-wrap justify-center gap-3 bg-gray-50 p-6 rounded-xl shadow-inner border border-gray-200 min-h-[80px]">
                <!-- Items injected by JS -->
            </div>
            <div id="classification-feedback" class="text-center mt-4 font-bold h-6 text-lg"></div>
            <div class="text-center mt-4">
                 <button onclick="initClassificationGame()" class="text-sm text-gray-500 underline hover:text-orange-600">LÃ m láº¡i (Äáº£o ngáº«u nhiÃªn)</button>
            </div>
        </div>
    </section>

    <!-- Pháº§n 3: Ngá»¯ phÃ¡p (Biáº¿n Ä‘iá»‡u YÄ«) -->
    <section id="grammar" class="py-12 container mx-auto px-4 bg-orange-50">
        <div class="flex items-center mb-6">
            <div class="bg-orange-600 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold mr-3">3</div>
            <h2 class="text-2xl font-bold text-gray-800">Ngá»¯ phÃ¡p trá»ng Ä‘iá»ƒm</h2>
        </div>

        <div class="grid md:grid-cols-2 gap-8">
            <!-- Theory -->
            <div class="bg-white p-6 rounded-xl shadow border border-gray-200">
                <h3 class="text-xl font-bold text-orange-700 mb-4">Biáº¿n Ä‘iá»‡u cá»§a "YÄ«" (ä¸€)</h3>
                <div class="space-y-4">
                    <div class="flex items-center p-3 bg-blue-50 rounded-lg">
                        <div class="text-2xl mr-4 cn-text font-bold text-blue-600">yÃ¬</div>
                        <div>
                            <p class="font-bold">YÄ« + Thanh 1, 2, 3</p>
                            <p class="text-sm text-gray-600">Äá»c thÃ nh thanh 4. VÃ­ dá»¥: YÃ¬ zhÄng (ä¸€å¼ )</p>
                        </div>
                    </div>
                    <div class="flex items-center p-3 bg-green-50 rounded-lg">
                        <div class="text-2xl mr-4 cn-text font-bold text-green-600">yÃ­</div>
                        <div>
                            <p class="font-bold">YÄ« + Thanh 4</p>
                            <p class="text-sm text-gray-600">Äá»c thÃ nh thanh 2. VÃ­ dá»¥: YÃ­ gÃ¨ (ä¸€ä¸ª)</p>
                        </div>
                    </div>
                    <div class="flex items-center p-3 bg-gray-50 rounded-lg">
                        <div class="text-2xl mr-4 cn-text font-bold text-gray-600">yÄ«</div>
                        <div>
                            <p class="font-bold">Äá»©ng má»™t mÃ¬nh / Sá»‘ Ä‘áº¿m</p>
                            <p class="text-sm text-gray-600">Giá»¯ nguyÃªn thanh 1. VÃ­ dá»¥: DÃ¬-yÄ« (ç¬¬ä¸€)</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Drill Game -->
            <div class="bg-orange-100 p-6 rounded-xl shadow border border-orange-200">
                <h3 class="text-xl font-bold text-orange-700 mb-4"><i class="fas fa-gamepad mr-2"></i>Luyá»‡n táº­p pháº£n xáº¡</h3>
                <p class="mb-4 text-sm">Chá»n thanh Ä‘iá»‡u Ä‘Ãºng cho "YÄ«" trÆ°á»›c cÃ¡c tá»« sau:</p>
                
                <div id="drill-area" class="text-center">
                    <div id="drill-word" class="text-4xl cn-text font-bold mb-2 text-gray-800">...</div>
                    <div id="drill-pinyin" class="text-lg text-gray-500 mb-6">...</div>
                    
                    <div class="grid grid-cols-3 gap-4">
                        <button onclick="checkTone('yÄ«')" class="py-3 bg-white border-2 border-gray-300 rounded-lg hover:bg-blue-100 font-bold">YÄ« (1)</button>
                        <button onclick="checkTone('yÃ­')" class="py-3 bg-white border-2 border-gray-300 rounded-lg hover:bg-green-100 font-bold">YÃ­ (2)</button>
                        <button onclick="checkTone('yÃ¬')" class="py-3 bg-white border-2 border-gray-300 rounded-lg hover:bg-blue-100 font-bold">YÃ¬ (4)</button>
                    </div>
                    <div id="drill-feedback" class="mt-4 h-6 font-bold text-lg"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Pháº§n Má»›i: Thá»±c hÃ nh Má»™t ngÃ y cá»§a tÃ´i -->
    <section id="daily-routine" class="py-12 bg-white border-t border-gray-200">
        <div class="container mx-auto px-4">
            <div class="flex items-center mb-6">
                <div class="bg-orange-600 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold mr-3">4</div>
                <h2 class="text-2xl font-bold text-gray-800">Thá»±c hÃ nh: Má»™t ngÃ y cá»§a tÃ´i</h2>
            </div>
            <p class="mb-8 text-center text-gray-600">HÃ£y chá»n hoáº¡t Ä‘á»™ng cho tá»«ng buá»•i Ä‘á»ƒ ká»ƒ vá» má»™t ngÃ y cá»§a báº¡n.</p>

            <div class="grid md:grid-cols-3 gap-6">
                <!-- Morning -->
                <div class="bg-blue-50 p-4 rounded-xl border border-blue-100">
                    <h3 class="text-xl font-bold text-blue-800 mb-4 text-center"><i class="fas fa-sun text-yellow-500 mr-2"></i>Buá»•i sÃ¡ng (æ—©ä¸Š)</h3>
                    <select id="morning-action" class="w-full p-2 rounded border border-blue-300 mb-4 cn-text">
                        <option value="">-- Chá»n hoáº¡t Ä‘á»™ng --</option>
                        <option value="å»é£Ÿå ‚åƒæ—©é¥­">å»é£Ÿå ‚åƒæ—©é¥­ (Äi nhÃ  Äƒn Äƒn sÃ¡ng)</option>
                        <option value="å»æ•™å®¤ä¸Šè¯¾">å»æ•™å®¤ä¸Šè¯¾ (Äáº¿n lá»›p há»c)</option>
                        <option value="å–å’–å•¡">å–å’–å•¡ (Uá»‘ng cÃ  phÃª)</option>
                    </select>
                </div>

                <!-- Noon -->
                <div class="bg-orange-50 p-4 rounded-xl border border-orange-100">
                    <h3 class="text-xl font-bold text-orange-800 mb-4 text-center"><i class="fas fa-cloud-sun text-orange-500 mr-2"></i>Buá»•i trÆ°a (ä¸­åˆ)</h3>
                    <select id="noon-action" class="w-full p-2 rounded border border-orange-300 mb-4 cn-text">
                        <option value="">-- Chá»n hoáº¡t Ä‘á»™ng --</option>
                        <option value="åƒç±³é¥­å’Œé¸¡è›‹æ±¤">åƒç±³é¥­å’Œé¸¡è›‹æ±¤ (Ä‚n cÆ¡m vÃ  canh trá»©ng)</option>
                        <option value="åƒåŒ…å­">åƒåŒ…å­ (Ä‚n bÃ¡nh bao)</option>
                        <option value="å›å®¿èˆ">å›å®¿èˆ (Vá» kÃ½ tÃºc xÃ¡)</option>
                    </select>
                </div>

                <!-- Evening -->
                <div class="bg-indigo-50 p-4 rounded-xl border border-indigo-100">
                    <h3 class="text-xl font-bold text-indigo-800 mb-4 text-center"><i class="fas fa-moon text-indigo-500 mr-2"></i>Buá»•i tá»‘i (æ™šä¸Š)</h3>
                    <select id="evening-action" class="w-full p-2 rounded border border-indigo-300 mb-4 cn-text">
                        <option value="">-- Chá»n hoáº¡t Ä‘á»™ng --</option>
                        <option value="åƒæ™šé¥­">åƒæ™šé¥­ (Ä‚n tá»‘i)</option>
                        <option value="å–å•¤é…’">å–å•¤é…’ (Uá»‘ng bia)</option>
                        <option value="å›å®¶">å›å®¶ (Vá» nhÃ )</option>
                    </select>
                </div>
            </div>

            <div class="text-center mt-6">
                <button onclick="generateDailyStory()" class="bg-orange-600 text-white px-8 py-3 rounded-full font-bold hover:bg-orange-700 transition transform hover:scale-105 shadow-lg">
                    <i class="fas fa-magic mr-2"></i>Táº¡o Ä‘oáº¡n vÄƒn
                </button>
            </div>

            <!-- Result Box -->
            <div id="story-result" class="hidden mt-8 bg-gray-100 p-6 rounded-xl border-l-4 border-orange-500">
                <h4 class="font-bold text-gray-700 mb-2">Äoáº¡n vÄƒn cá»§a báº¡n:</h4>
                <p id="story-cn" class="text-2xl leading-loose cn-text text-gray-800 mb-2"></p>
                <p id="story-pinyin" class="text-orange-600 font-medium"></p>
            </div>
        </div>
    </section>

    <!-- Pháº§n 5: Äá»c hiá»ƒu -->
    <section id="reading" class="py-12 bg-white border-t border-gray-200">
        <div class="container mx-auto px-4">
            <div class="flex items-center mb-6">
                <div class="bg-orange-600 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold mr-3">5</div>
                <h2 class="text-2xl font-bold text-gray-800">Äá»c hiá»ƒu (Reading)</h2>
            </div>

            <div class="bg-yellow-50 p-8 rounded-2xl shadow-inner mb-8 relative">
                <div class="absolute top-4 right-4">
                    <label class="flex items-center cursor-pointer">
                        <div class="mr-3 font-medium text-gray-700">Hiá»‡n Pinyin</div>
                        <div class="relative">
                            <input type="checkbox" id="toggle-pinyin" class="sr-only" onchange="togglePinyin()">
                            <div class="block bg-gray-300 w-14 h-8 rounded-full"></div>
                            <div class="dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition transform duration-300 ease-in-out"></div>
                        </div>
                    </label>
                </div>

                <div class="text-2xl leading-loose cn-text text-gray-800 text-center md:text-left">
                    <p class="mb-4">
                        ä»Šå¤©ä¸­åˆï¼Œæˆ‘å»é£Ÿå ‚åƒé¥­ã€‚<br>
                        <span class="pinyin hidden text-sm text-orange-600 block">JÄ«ntiÄn zhÅngwÇ”, wÇ’ qÃ¹ shÃ­tÃ¡ng chÄ« fÃ n.</span>
                    </p>
                    <p class="mb-4">
                        é£Ÿå ‚å¾ˆå¤§ï¼Œäººå¾ˆå¤šã€‚<br>
                        <span class="pinyin hidden text-sm text-orange-600 block">ShÃ­tÃ¡ng hÄ›n dÃ , rÃ©n hÄ›n duÅ.</span>
                    </p>
                    <p class="mb-4">
                        æˆ‘ä¸åƒé¦’å¤´ï¼Œä¹Ÿä¸åƒåŒ…å­ã€‚æˆ‘è¦ä¸€ç¢—ç±³é¥­å’Œä¸€ç¢—é¸¡è›‹æ±¤ã€‚<br>
                        <span class="pinyin hidden text-sm text-orange-600 block">WÇ’ bÃ¹ chÄ« mÃ¡ntou, yÄ› bÃ¹ chÄ« bÄozi. WÇ’ yÃ o yÃ¬ wÇn mÇfÃ n hÃ© yÃ¬ wÇn jÄ«dÃ ntÄng.</span>
                    </p>
                    <p class="mb-4">
                        é‚£äº›æ˜¯ä»€ä¹ˆï¼Ÿé‚£äº›æ˜¯é¥ºå­ã€‚<br>
                        <span class="pinyin hidden text-sm text-orange-600 block">NÃ xiÄ“ shÃ¬ shÃ©nme? NÃ xiÄ“ shÃ¬ jiÇozi.</span>
                    </p>
                    <p class="mb-4">
                        æˆ‘çš„æœ‹å‹éº¦å…‹çˆ±åƒé¥ºå­ã€‚ä»–ä¹Ÿå–å•¤é…’ã€‚<br>
                        <span class="pinyin hidden text-sm text-orange-600 block">WÇ’ de pÃ©ngyou MÃ ikÃ¨ Ã i chÄ« jiÇozi. TÄ yÄ› hÄ“ pÃ­jiÇ”.</span>
                    </p>
                    <p>
                        æˆ‘ä»¬éƒ½å¾ˆé«˜å…´ã€‚<br>
                        <span class="pinyin hidden text-sm text-orange-600 block">WÇ’men dÅu hÄ›n gÄoxÃ¬ng.</span>
                    </p>
                </div>
            </div>

            <!-- Reading Quiz -->
            <div class="grid md:grid-cols-2 gap-6">
                <div class="border p-4 rounded-lg">
                    <p class="font-bold mb-2">1. NhÃ¢n váº­t "tÃ´i" Äƒn gÃ¬?</p>
                    <div class="space-y-2">
                        <label class="flex items-center space-x-2 cursor-pointer"><input type="radio" name="q1" value="wrong"> <span>BÃ¡nh bao vÃ  bia</span></label>
                        <label class="flex items-center space-x-2 cursor-pointer"><input type="radio" name="q1" value="correct"> <span>CÆ¡m vÃ  canh trá»©ng gÃ </span></label>
                        <label class="flex items-center space-x-2 cursor-pointer"><input type="radio" name="q1" value="wrong"> <span>Sá»§i cáº£o vÃ  mÃ¬</span></label>
                    </div>
                    <div class="q1-result mt-2 text-sm font-bold"></div>
                </div>
                <div class="border p-4 rounded-lg">
                    <p class="font-bold mb-2">2. Mai-ke thÃ­ch Äƒn mÃ³n gÃ¬?</p>
                    <div class="space-y-2">
                        <label class="flex items-center space-x-2 cursor-pointer"><input type="radio" name="q2" value="correct"> <span>Sá»§i cáº£o (JiÇozi)</span></label>
                        <label class="flex items-center space-x-2 cursor-pointer"><input type="radio" name="q2" value="wrong"> <span>MÃ n tháº§u (MÃ¡ntou)</span></label>
                        <label class="flex items-center space-x-2 cursor-pointer"><input type="radio" name="q2" value="wrong"> <span>CÆ¡m tráº¯ng (MÇfÃ n)</span></label>
                    </div>
                    <div class="q2-result mt-2 text-sm font-bold"></div>
                </div>
            </div>
            <div class="text-center mt-6">
                <button onclick="checkReading()" class="bg-orange-600 text-white px-6 py-2 rounded-lg hover:bg-orange-700">Kiá»ƒm tra Ä‘Ã¡p Ã¡n</button>
            </div>
        </div>
    </section>

    <!-- Pháº§n 6: Thá»±c hÃ nh (Menu) -->
    <section id="practice" class="py-12 bg-orange-50">
        <div class="container mx-auto px-4">
            <div class="flex items-center mb-6">
                <div class="bg-orange-600 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold mr-3">6</div>
                <h2 class="text-2xl font-bold text-gray-800">Thá»±c hÃ nh: Role-play Menu</h2>
            </div>
            
            <p class="mb-4 text-center italic">HÃ£y Ä‘Ã³ng vai khÃ¡ch hÃ ng, click vÃ o mÃ³n Äƒn Ä‘á»ƒ gá»i mÃ³n ("WÇ’ yÃ o...").</p>

            <div class="flex flex-col md:flex-row gap-8">
                <!-- Menu -->
                <div class="w-full md:w-2/3 bg-white p-6 rounded-xl shadow-lg">
                    <h3 class="text-center text-2xl font-bold text-orange-800 mb-6 border-b pb-2">THá»°C ÄÆ N (èœå•)</h3>
                    <div class="grid grid-cols-2 sm:grid-cols-3 gap-4">
                        <!-- Menu Items -->
                        <div onclick="addToOrder('MÃ¡ntou', 'é¦’å¤´')" class="menu-item border rounded-lg p-4 text-center cursor-pointer hover:bg-orange-100 transition">
                            <div class="text-4xl mb-2">ğŸ</div>
                            <div class="font-bold cn-text text-xl">é¦’å¤´</div>
                            <div class="text-gray-600">MÃ¡ntou</div>
                        </div>
                        <div onclick="addToOrder('BÄozi', 'åŒ…å­')" class="menu-item border rounded-lg p-4 text-center cursor-pointer hover:bg-orange-100 transition">
                            <div class="text-4xl mb-2">ğŸ¥Ÿ</div>
                            <div class="font-bold cn-text text-xl">åŒ…å­</div>
                            <div class="text-gray-600">BÄozi</div>
                        </div>
                        <div onclick="addToOrder('JiÇozi', 'é¥ºå­')" class="menu-item border rounded-lg p-4 text-center cursor-pointer hover:bg-orange-100 transition">
                            <div class="text-4xl mb-2">ğŸ¥£</div>
                            <div class="font-bold cn-text text-xl">é¥ºå­</div>
                            <div class="text-gray-600">JiÇozi</div>
                        </div>
                        <div onclick="addToOrder('MÇfÃ n', 'ç±³é¥­')" class="menu-item border rounded-lg p-4 text-center cursor-pointer hover:bg-orange-100 transition">
                            <div class="text-4xl mb-2">ğŸš</div>
                            <div class="font-bold cn-text text-xl">ç±³é¥­</div>
                            <div class="text-gray-600">MÇfÃ n</div>
                        </div>
                        <div onclick="addToOrder('MiÃ ntiÃ¡or', 'é¢æ¡å„¿')" class="menu-item border rounded-lg p-4 text-center cursor-pointer hover:bg-orange-100 transition">
                            <div class="text-4xl mb-2">ğŸœ</div>
                            <div class="font-bold cn-text text-xl">é¢æ¡å„¿</div>
                            <div class="text-gray-600">MiÃ ntiÃ¡or</div>
                        </div>
                        <div onclick="addToOrder('JÄ«dÃ n tÄng', 'é¸¡è›‹æ±¤')" class="menu-item border rounded-lg p-4 text-center cursor-pointer hover:bg-orange-100 transition">
                            <div class="text-4xl mb-2">ğŸ²</div>
                            <div class="font-bold cn-text text-xl">é¸¡è›‹æ±¤</div>
                            <div class="text-gray-600">JÄ«dÃ n tÄng</div>
                        </div>
                        <div onclick="addToOrder('PÃ­jiÇ”', 'å•¤é…’')" class="menu-item border rounded-lg p-4 text-center cursor-pointer hover:bg-orange-100 transition">
                            <div class="text-4xl mb-2">ğŸº</div>
                            <div class="font-bold cn-text text-xl">å•¤é…’</div>
                            <div class="text-gray-600">PÃ­jiÇ”</div>
                        </div>
                    </div>
                </div>

                <!-- Order Slip -->
                <div class="w-full md:w-1/3 bg-yellow-100 p-6 rounded-xl shadow-lg border-2 border-yellow-200 h-fit sticky top-24">
                    <h3 class="text-center font-bold text-xl mb-4">HÃ³a Ä‘Æ¡n gá»i mÃ³n</h3>
                    <ul id="order-list" class="space-y-2 mb-4 text-sm">
                        <li class="text-gray-500 italic text-center">ChÆ°a chá»n mÃ³n nÃ o...</li>
                    </ul>
                    <hr class="border-gray-400 mb-4">
                    <div class="bg-white p-3 rounded">
                        <p class="font-bold text-orange-800">CÃ¢u cá»§a báº¡n:</p>
                        <p id="sentence-builder" class="cn-text text-lg mt-1 text-gray-400">WÇ’ yÃ o...</p>
                    </div>
                    <button onclick="clearOrder()" class="w-full mt-4 bg-red-500 text-white py-2 rounded hover:bg-red-600 transition">XÃ³a táº¥t cáº£</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8 mt-12">
        <div class="container mx-auto px-4 text-center">
            <h3 class="font-bold mb-2">BÃ i táº­p vá» nhÃ </h3>
            <p class="mb-1">1. Ghi Ã¢m Ä‘oáº¡n há»™i thoáº¡i "Má»™t ngÃ y cá»§a tÃ´i".</p>
            <p class="mb-4">2. Viáº¿t thá»±c Ä‘Æ¡n bá»¯a trÆ°a mai báº±ng chá»¯ HÃ¡n.</p>
            <p class="text-gray-500 text-sm">GiÃ¡o Ã¡n Ä‘iá»‡n tá»­ HÃ¡n ngá»¯ 1 - ÄÆ°á»£c táº¡o bá»Ÿi Trá»£ lÃ½ AI</p>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // 1. Vocabulary Data with Examples (Updated with New Words)
        const vocabData = [
            // Tá»« cÅ©
            { hanzi: 'ä¸­åˆ', pinyin: 'ZhÅngwÇ”', mean: 'Buá»•i trÆ°a', type: 'time', img: 'â˜€ï¸', example: 'æˆ‘ä¸­åˆå»é£Ÿå ‚ã€‚<br>(WÇ’ zhÅngwÇ” qÃ¹ shÃ­tÃ¡ng.)' },
            { hanzi: 'é£Ÿå ‚', pinyin: 'ShÃ­tÃ¡ng', mean: 'NhÃ  Äƒn', type: 'place', img: 'ğŸ«', example: 'é£Ÿå ‚åœ¨äºŒæ¥¼ã€‚<br>(ShÃ­tÃ¡ng zÃ i Ã¨r lÃ³u.)' },
            { hanzi: 'åƒ', pinyin: 'ChÄ«', mean: 'Ä‚n', type: 'action', img: 'ğŸ¥¢', example: 'ä½ åƒä»€ä¹ˆï¼Ÿ<br>(NÇ chÄ« shÃ©nme?)' },
            { hanzi: 'é¦’å¤´', pinyin: 'MÃ¡ntou', mean: 'MÃ n tháº§u', type: 'food', img: 'ğŸ', example: 'æˆ‘åƒä¸€ä¸ªé¦’å¤´ã€‚<br>(WÇ’ chÄ« yÃ­ gÃ¨ mÃ¡ntou.)' },
            { hanzi: 'åŒ…å­', pinyin: 'BÄozi', mean: 'BÃ¡nh bao', type: 'food', img: 'ğŸ¥Ÿ', example: 'åŒ…å­å¾ˆå¥½åƒã€‚<br>(BÄozi hÄ›n hÇochÄ«.)' },
            { hanzi: 'ç±³é¥­', pinyin: 'MÇfÃ n', mean: 'CÆ¡m tráº¯ng', type: 'food', img: 'ğŸš', example: 'æˆ‘ä¸åƒç±³é¥­ã€‚<br>(WÇ’ bÃ¹ chÄ« mÇfÃ n.)' },
            { hanzi: 'è¦', pinyin: 'YÃ o', mean: 'Muá»‘n/Cáº§n', type: 'action', img: 'ğŸ™‹', example: 'æˆ‘è¦ä¸€ç¢—æ±¤ã€‚<br>(WÇ’ yÃ o yÃ¬ wÇn tÄng.)' },
            { hanzi: 'å–', pinyin: 'HÄ“', mean: 'Uá»‘ng', type: 'action', img: 'ğŸ¥¤', example: 'ä½ å–å•¤é…’å—ï¼Ÿ<br>(NÇ hÄ“ pÃ­jiÇ” ma?)' },
            { hanzi: 'é¸¡è›‹æ±¤', pinyin: 'JÄ«dÃ n tÄng', mean: 'Canh trá»©ng', type: 'food', img: 'ğŸ²', example: 'é¸¡è›‹æ±¤å¾ˆçƒ«ã€‚<br>(JÄ«dÃ n tÄng hÄ›n tÃ ng.)' },
            { hanzi: 'å•¤é…’', pinyin: 'PÃ­jiÇ”', mean: 'Bia', type: 'food', img: 'ğŸº', example: 'çˆ¸çˆ¸å–å•¤é…’ã€‚<br>(BÃ ba hÄ“ pÃ­jiÇ”.)' },
            { hanzi: 'ç¢—', pinyin: 'WÇn', mean: 'BÃ¡t (LÆ°á»£ng tá»«)', type: 'measure', img: 'ğŸ¥£', example: 'ä¸€ç¢—ç±³é¥­ã€‚<br>(YÃ¬ wÇn mÇfÃ n.)' },
            { hanzi: 'ä¸ª', pinyin: 'GÃ¨', mean: 'CÃ¡i (LÆ°á»£ng tá»«)', type: 'measure', img: 'â˜ï¸', example: 'ä¸‰ä¸ªåŒ…å­ã€‚<br>(SÄn gÃ¨ bÄozi.)' },
            // Tá»« má»›i thÃªm vÃ o
            { hanzi: 'æ—©ä¸Š', pinyin: 'ZÇoshang', mean: 'Buá»•i sÃ¡ng', type: 'time', img: 'ğŸŒ…', example: 'æ—©ä¸Šå¥½ï¼<br>(ZÇoshang hÇo!)' },
            { hanzi: 'æ™šä¸Š', pinyin: 'WÇnshang', mean: 'Buá»•i tá»‘i', type: 'time', img: 'ğŸŒ™', example: 'æ™šä¸Šæˆ‘çœ‹ä¹¦ã€‚<br>(WÇnshang wÇ’ kÃ n shÅ«.)' },
            { hanzi: 'æ—©é¥­', pinyin: 'ZÇofÃ n', mean: 'Bá»¯a sÃ¡ng', type: 'food', img: 'ğŸ¥ª', example: 'ä½ åƒæ—©é¥­å—ï¼Ÿ<br>(NÇ chÄ« zÇofÃ n ma?)' },
            { hanzi: 'æ™šé¥­', pinyin: 'WÇnfÃ n', mean: 'Bá»¯a tá»‘i', type: 'food', img: 'ğŸ½ï¸', example: 'æˆ‘ä»¬åƒæ™šé¥­ã€‚<br>(WÇ’men chÄ« wÇnfÃ n.)' },
            { hanzi: 'ä¸Šè¯¾', pinyin: 'ShÃ ngkÃ¨', mean: 'LÃªn lá»›p/Äi há»c', type: 'action', img: 'ğŸ‘¨â€ğŸ«', example: 'æˆ‘å»ä¸Šè¯¾ã€‚<br>(WÇ’ qÃ¹ shÃ ngkÃ¨.)' },
            { hanzi: 'å›å®¶', pinyin: 'HuÃ­ jiÄ', mean: 'Vá» nhÃ ', type: 'action', img: 'ğŸ ', example: 'æˆ‘ä¸‹åˆå›å®¶ã€‚<br>(WÇ’ xiÃ wÇ” huÃ­ jiÄ.)' },
        ];

        // Render Vocab Cards
        function renderVocab(filter) {
            const container = document.getElementById('flashcard-container');
            container.innerHTML = '';
            
            vocabData.forEach(word => {
                if (filter === 'all' || word.type === filter || (filter === 'food' && (word.type === 'measure' || word.type === 'drink'))) {
                    const card = document.createElement('div');
                    card.className = 'flip-card w-full h-64 cursor-pointer perspective-1000';
                    card.innerHTML = `
                        <div class="flip-card-inner w-full h-full relative transition-transform duration-500 transform-style-3d shadow-lg rounded-xl bg-white border border-orange-100">
                            <!-- Front -->
                            <div class="absolute w-full h-full backface-hidden flex flex-col items-center justify-center p-4 bg-white rounded-xl">
                                <div class="text-4xl font-bold cn-text text-gray-800 mb-2">${word.hanzi}</div>
                                <div class="text-lg text-orange-600 font-medium">${word.pinyin}</div>
                                <div class="text-xs text-gray-400 mt-4 absolute bottom-2">(Click Ä‘á»ƒ xem nghÄ©a & vÃ­ dá»¥)</div>
                            </div>
                            <!-- Back -->
                            <div class="absolute w-full h-full backface-hidden flex flex-col items-center justify-center p-4 bg-orange-50 rounded-xl rotate-y-180 text-center">
                                <div class="text-3xl mb-2">${word.img}</div>
                                <div class="text-xl font-bold text-gray-800 mb-2">${word.mean}</div>
                                <div class="text-sm text-gray-600 bg-white p-2 rounded border border-orange-100 w-full">
                                    <span class="font-bold text-orange-500 block mb-1">VÃ­ dá»¥:</span>
                                    <span class="cn-text block text-lg text-gray-800">${word.example.split('<br>')[0]}</span>
                                    <span class="text-xs text-gray-500 italic">${word.example.split('<br>')[1]}</span>
                                </div>
                            </div>
                        </div>
                    `;
                    // Add click event
                    card.addEventListener('click', function() {
                        this.classList.toggle('flipped');
                    });
                    container.appendChild(card);
                }
            });
        }

        // Filter Function
        function filterVocab(type) {
            renderVocab(type);
            // Update active button style
            const btns = document.querySelectorAll('#vocab-filters button');
            btns.forEach(btn => {
                if(btn.textContent.toLowerCase().includes(type === 'all' ? 'táº¥t cáº£' : type === 'food' ? 'Ä‘á»“ Äƒn' : type === 'action' ? 'hÃ nh Ä‘á»™ng' : 'thá»i gian')) {
                    btn.classList.add('bg-orange-600', 'text-white');
                    btn.classList.remove('bg-white', 'text-orange-600');
                } else {
                    btn.classList.remove('bg-orange-600', 'text-white');
                    btn.classList.add('bg-white', 'text-orange-600');
                }
            });
        }

        // Initial Render
        renderVocab('all');

        // 2. Classification Game Logic (Updated with new words)
        const classificationWords = [
            { text: 'é¦’å¤´', type: 'food' },
            { text: 'å–', type: 'action' },
            { text: 'å•¤é…’', type: 'food' }, // Simplified grouping
            { text: 'ä¸­åˆ', type: 'time' },
            { text: 'ç±³é¥­', type: 'food' },
            { text: 'åƒ', type: 'action' },
            { text: 'é¸¡è›‹æ±¤', type: 'food' },
            { text: 'åŒ…å­', type: 'food' },
            { text: 'æ—©ä¸Š', type: 'time' },
            { text: 'æ™šä¸Š', type: 'time' },
            { text: 'ä¸Šè¯¾', type: 'action' },
            { text: 'é£Ÿå ‚', type: 'place' },
            { text: 'æ—©é¥­', type: 'food' },
            { text: 'å›å®¶', type: 'action' }
        ];

        function initClassificationGame() {
            const pool = document.getElementById('word-pool');
            const droppedItems = document.querySelectorAll('.dropped-items');
            droppedItems.forEach(el => el.innerHTML = '');
            pool.innerHTML = '';
            classificationWords.sort(() => Math.random() - 0.5); // Shuffle

            classificationWords.forEach(item => {
                const el = document.createElement('div');
                el.className = 'draggable bg-white border border-gray-300 px-4 py-2 rounded-lg shadow-sm hover:shadow-md text-lg font-bold cn-text cursor-grab';
                el.draggable = true;
                el.textContent = item.text;
                el.dataset.type = item.type;
                
                el.addEventListener('dragstart', dragStart);
                pool.appendChild(el);
            });

            const zones = document.querySelectorAll('.drop-zone');
            zones.forEach(zone => {
                zone.addEventListener('dragover', dragOver);
                zone.addEventListener('dragleave', dragLeave);
                zone.addEventListener('drop', drop);
            });
            
            document.getElementById('classification-feedback').textContent = '';
        }

        function dragStart(e) {
            e.dataTransfer.setData('text/plain', e.target.dataset.type);
            e.dataTransfer.setData('content', e.target.textContent);
            // Slight hack to pass element reference
            e.dataTransfer.effectAllowed = 'move';
            window.draggedElement = e.target;
        }

        function dragOver(e) {
            e.preventDefault();
            e.currentTarget.classList.add('drag-over');
        }

        function dragLeave(e) {
            e.currentTarget.classList.remove('drag-over');
        }

        function drop(e) {
            e.preventDefault();
            const zone = e.currentTarget;
            zone.classList.remove('drag-over');
            
            const type = e.dataTransfer.getData('text/plain');
            const zoneType = zone.dataset.type;
            const feedback = document.getElementById('classification-feedback');

            // Check special case for food/drink sharing same bucket if needed, but here we strict type
            // Note: In my data above, I grouped Drinks into 'food' type for simpler logic in vocab, 
            // but in game array I labeled them. Let's handle logic carefully.
            
            if (type === zoneType) {
                // Correct drop
                const droppedItem = document.createElement('div');
                droppedItem.className = 'bg-white border border-gray-200 px-3 py-1 rounded shadow-sm text-sm font-bold cn-text';
                droppedItem.textContent = e.dataTransfer.getData('content');
                zone.querySelector('.dropped-items').appendChild(droppedItem);
                
                // Remove original
                if(window.draggedElement) window.draggedElement.remove();
                
                feedback.textContent = "âœ… ChÃ­nh xÃ¡c!";
                feedback.className = "text-center mt-4 font-bold h-6 text-lg text-green-600";
            } else {
                feedback.textContent = "âŒ Sai rá»“i, thá»­ láº¡i nhÃ©!";
                feedback.className = "text-center mt-4 font-bold h-6 text-lg text-red-600";
            }
            
            setTimeout(() => {
                 feedback.textContent = "";
            }, 1500);
        }

        initClassificationGame();


        // 3. Grammar Drill Logic
        const drillWords = [
            { char: 'å¤© (TiÄn - Thanh 1)', correct: 'yÃ¬', text: 'YÃ¬ TiÄn' },
            { char: 'å¹´ (NiÃ¡n - Thanh 2)', correct: 'yÃ¬', text: 'YÃ¬ NiÃ¡n' },
            { char: 'ç¢— (WÇn - Thanh 3)', correct: 'yÃ¬', text: 'YÃ¬ WÇn' },
            { char: 'ä¸ª (GÃ¨ - Thanh 4)', correct: 'yÃ­', text: 'YÃ­ GÃ¨' },
            { char: 'è¯¾ (KÃ¨ - Thanh 4)', correct: 'yÃ­', text: 'YÃ­ KÃ¨' },
            { char: 'åª (ZhÄ« - Thanh 1)', correct: 'yÃ¬', text: 'YÃ¬ ZhÄ«' }
        ];
        let currentDrillIndex = 0;

        function loadDrill() {
            const word = drillWords[currentDrillIndex];
            document.getElementById('drill-word').textContent = `ä¸€ ${word.char}`;
            document.getElementById('drill-pinyin').textContent = `(YÄ«) + ${word.char.split(' ')[1]}`;
            document.getElementById('drill-feedback').textContent = '';
            document.getElementById('drill-feedback').className = "mt-4 h-6 font-bold text-lg";
        }

        function checkTone(answer) {
            const current = drillWords[currentDrillIndex];
            const feedback = document.getElementById('drill-feedback');
            
            if (answer === current.correct) {
                feedback.textContent = `ChÃ­nh xÃ¡c! ÄÃ¡p Ã¡n lÃ : ${current.text}`;
                feedback.classList.add('text-green-600');
                feedback.classList.remove('text-red-600');
                
                // Next word after delay
                setTimeout(() => {
                    currentDrillIndex = (currentDrillIndex + 1) % drillWords.length;
                    loadDrill();
                }, 1500);
            } else {
                feedback.textContent = "Sai rá»“i, thá»­ láº¡i xem! (Nhá»› quy táº¯c: +4 -> 2, +1/2/3 -> 4)";
                feedback.classList.add('text-red-600');
                feedback.classList.remove('text-green-600');
            }
        }
        loadDrill();

        // 4. NEW: Generate Daily Story Logic
        // Map values to Pinyin for display
        const pinyinMap = {
            "å»é£Ÿå ‚åƒæ—©é¥­": "qÃ¹ shÃ­tÃ¡ng chÄ« zÇofÃ n",
            "å»æ•™å®¤ä¸Šè¯¾": "qÃ¹ jiÃ oshÃ¬ shÃ ngkÃ¨",
            "å–å’–å•¡": "hÄ“ kÄfÄ“i",
            "åƒç±³é¥­å’Œé¸¡è›‹æ±¤": "chÄ« mÇfÃ n hÃ© jÄ«dÃ ntÄng",
            "åƒåŒ…å­": "chÄ« bÄozi",
            "å›å®¿èˆ": "huÃ­ sÃ¹shÃ¨",
            "åƒæ™šé¥­": "chÄ« wÇnfÃ n",
            "å–å•¤é…’": "hÄ“ pÃ­jiÇ”",
            "å›å®¶": "huÃ­ jiÄ"
        };

        function generateDailyStory() {
            const m = document.getElementById('morning-action').value;
            const n = document.getElementById('noon-action').value;
            const e = document.getElementById('evening-action').value;
            
            if (!m || !n || !e) {
                alert("Vui lÃ²ng chá»n Ä‘áº§y Ä‘á»§ hoáº¡t Ä‘á»™ng cho cáº£ 3 buá»•i!");
                return;
            }

            const textCN = `æ—©ä¸Šï¼Œæˆ‘${m}ã€‚ä¸­åˆï¼Œæˆ‘${n}ã€‚æ™šä¸Šï¼Œæˆ‘${e}ã€‚`;
            const textPY = `ZÇoshang, wÇ’ ${pinyinMap[m]}. ZhÅngwÇ”, wÇ’ ${pinyinMap[n]}. WÇnshang, wÇ’ ${pinyinMap[e]}.`;

            document.getElementById('story-cn').textContent = textCN;
            document.getElementById('story-pinyin').textContent = textPY;
            document.getElementById('story-result').classList.remove('hidden');
        }

        // 5. Reading Logic
        function togglePinyin() {
            const pinyins = document.querySelectorAll('.pinyin');
            const checkbox = document.getElementById('toggle-pinyin');
            const dot = document.querySelector('.dot');
            
            pinyins.forEach(el => {
                if (checkbox.checked) {
                    el.classList.remove('hidden');
                } else {
                    el.classList.add('hidden');
                }
            });

            if (checkbox.checked) {
                dot.style.transform = 'translateX(100%)';
                dot.parentElement.querySelector('.block').classList.replace('bg-gray-300', 'bg-orange-500');
            } else {
                dot.style.transform = 'translateX(0)';
                dot.parentElement.querySelector('.block').classList.replace('bg-orange-500', 'bg-gray-300');
            }
        }

        function checkReading() {
            const q1 = document.querySelector('input[name="q1"]:checked');
            const q2 = document.querySelector('input[name="q2"]:checked');
            
            const r1 = document.querySelector('.q1-result');
            const r2 = document.querySelector('.q2-result');

            if (q1) {
                r1.textContent = q1.value === 'correct' ? 'âœ… ÄÃºng rá»“i!' : 'âŒ Sai. "TÃ´i" gá»i CÆ¡m vÃ  Canh trá»©ng.';
                r1.className = `q1-result mt-2 text-sm font-bold ${q1.value === 'correct' ? 'text-green-600' : 'text-red-600'}`;
            }
            if (q2) {
                r2.textContent = q2.value === 'correct' ? 'âœ… ChÃ­nh xÃ¡c!' : 'âŒ Sai. Mike thÃ­ch Äƒn Sá»§i cáº£o.';
                r2.className = `q2-result mt-2 text-sm font-bold ${q2.value === 'correct' ? 'text-green-600' : 'text-red-600'}`;
            }
        }

        // 6. Practice Menu Logic
        let orders = [];

        function addToOrder(pinyin, hanzi) {
            orders.push({ pinyin, hanzi });
            updateOrderList();
        }

        function clearOrder() {
            orders = [];
            updateOrderList();
        }

        function updateOrderList() {
            const list = document.getElementById('order-list');
            const sentence = document.getElementById('sentence-builder');
            
            if (orders.length === 0) {
                list.innerHTML = '<li class="text-gray-500 italic text-center">ChÆ°a chá»n mÃ³n nÃ o...</li>';
                sentence.textContent = "WÇ’ yÃ o...";
                sentence.classList.add('text-gray-400');
                sentence.classList.remove('text-orange-700');
                return;
            }

            list.innerHTML = '';
            let sentenceText = "WÇ’ yÃ o ";
            
            orders.forEach((item, index) => {
                // Determine quantifier (simplified logic for demo)
                let quantifier = 'yÃ­ gÃ¨'; // Default
                if (item.pinyin.includes('tÄng') || item.pinyin.includes('fÃ n')) quantifier = 'yÃ¬ wÇn';
                if (item.pinyin.includes('PÃ­jiÇ”')) quantifier = 'yÃ¬ pÃ­ng'; // Bottle

                const li = document.createElement('li');
                li.className = "flex justify-between items-center border-b border-yellow-200 pb-1";
                li.innerHTML = `<span>${item.hanzi}</span> <span class="text-xs text-gray-500">${quantifier}</span>`;
                list.appendChild(li);

                sentenceText += `${quantifier} ${item.pinyin}`;
                if (index < orders.length - 1) sentenceText += ", ";
            });
            
            sentenceText += ".";
            sentence.textContent = sentenceText;
            sentence.classList.remove('text-gray-400');
            sentence.classList.add('text-orange-700');
        }

    </script>
</body>
</html>
