<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√†i Ki·ªÉm Tra Cu·ªëi K·ª≥ Ti·∫øng Trung C·∫•p 1 - C√πng th·ª≠ s·ª©c n√†o! üéØ</title>
    <style>
        /* --- CSS START --- */
        :root {
            --primary-color: #007bff; /* Xanh d∆∞∆°ng ch·ªß ƒë·∫°o */
            --secondary-color: #6c757d; /* X√°m ph·ª• */
            --success-color: #198754; /* Xanh l√° th√†nh c√¥ng */
            --danger-color: #dc3545; /* ƒê·ªè c·∫£nh b√°o */
            --warning-color: #ffc107; /* V√†ng c·∫£nh b√°o */
            --info-color: #0dcaf0; /* Xanh lam nh·∫°t th√¥ng tin */
            --light-bg: #f8f9fa; /* N·ªÅn s√°ng */
            --white-bg: #ffffff;
            --text-color: #212529;
            --border-radius: 0.375rem; /* Bo g√≥c nh·∫π */
            --box-shadow: 0 2px 5px rgba(0, 0, 0, 0.08);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 15px;
            background-color: var(--light-bg);
            color: var(--text-color);
        }

        .container {
            max-width: 800px; /* Gi·ªõi h·∫°n chi·ªÅu r·ªông ƒë·ªÉ d·ªÖ ƒë·ªçc */
            margin: 20px auto; /* CƒÉn gi·ªØa */
            padding: 0 15px;
        }

        header, section {
            background-color: var(--white-bg);
            padding: 25px;
            margin-bottom: 25px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
        }

        h1 {
            color: var(--primary-color);
            text-align: center;
            font-size: 1.8em;
            margin-bottom: 10px;
        }
         h2 {
            color: var(--primary-color);
            text-align: left;
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 10px;
            margin-bottom: 20px;
            font-size: 1.4em;
            display: flex; /* ƒê·ªÉ cƒÉn ch·ªânh ƒëi·ªÉm */
            justify-content: space-between; /* ƒê·∫©y ƒëi·ªÉm sang ph·∫£i */
            align-items: center;
        }
        .section-points {
             font-size: 0.8em;
             font-weight: normal;
             color: var(--secondary-color);
             background-color: #e9ecef;
             padding: 3px 8px;
             border-radius: 10px;
        }


        .instructions {
            text-align: center;
            color: var(--secondary-color);
            font-size: 1.1em;
            margin-bottom: 20px;
        }

        #timer {
            text-align: center;
            font-size: 1.3em;
            font-weight: 500; /* Medium weight */
            color: var(--danger-color);
            margin-bottom: 20px;
            background-color: #fdf0f1; /* N·ªÅn ƒë·ªè nh·∫°t */
            padding: 8px;
            border-radius: var(--border-radius);
            display: inline-block; /* Cho v·ª´a v·ªõi n·ªôi dung */
            min-width: 150px;
        }

        #studentName {
            display: block;
            margin: 10px auto 20px auto;
            padding: 10px 15px;
            width: 80%;
            max-width: 400px;
            border: 1px solid #ced4da;
            border-radius: var(--border-radius);
            font-size: 1em;
            box-shadow: inset 0 1px 2px rgba(0,0,0,0.075);
        }
         label[for="studentName"] {
             display: block;
             text-align: center;
             font-weight: 500;
             margin-bottom: 5px;
         }

        .question {
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }

        .question:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 5px;
        }

        .question p:first-child { /* Ph·∫ßn m√¥ t·∫£ c√¢u h·ªèi */
            font-weight: 500;
            margin-bottom: 10px;
            color: #343a40;
        }
        .question-points {
             font-size: 0.9em;
             color: var(--secondary-color);
             font-weight: normal;
             margin-left: 10px;
        }


        .hanzi {
            font-size: 1.25em;
            margin-right: 5px;
            color: #000; /* R√µ r√†ng h∆°n */
        }

        /* --- Styling Pinyin ƒë∆∞·ª£c c·∫£i thi·ªán --- */
        .pinyin {
            font-style: normal; /* B·ªè nghi√™ng */
            color: #004085; /* M√†u xanh d∆∞∆°ng ƒë·∫≠m */
            background-color: #cce5ff; /* N·ªÅn xanh d∆∞∆°ng r·∫•t nh·∫°t */
            border: 1px solid #b8daff; /* Vi·ªÅn xanh nh·∫°t */
            padding: 4px 8px; /* Padding l·ªõn h∆°n ch√∫t */
            border-radius: 4px;
            font-size: 1em; /* C·ª° ch·ªØ b·∫±ng ch·ªØ th∆∞·ªùng */
            display: inline-block;
            margin-top: 8px; /* Kho·∫£ng c√°ch v·ªõi d√≤ng tr√™n */
            margin-left: 5px;
            line-height: 1.4; /* TƒÉng kho·∫£ng c√°ch d√≤ng n·∫øu c·∫ßn */
            font-weight: 500; /* H∆°i ƒë·∫≠m h∆°n */
        }

        .pinyin-hidden {
            display: none; /* ·∫®n pinyin m·∫∑c ƒë·ªãnh */
        }
        /* --- K·∫øt th√∫c Styling Pinyin --- */


        .toggle-pinyin {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1.1em; /* To h∆°n ch√∫t */
            padding: 0 5px;
            color: var(--primary-color);
            opacity: 0.8;
            transition: opacity 0.2s ease;
        }
        .toggle-pinyin:hover {
             opacity: 1;
        }


        input[type="text"], textarea {
            padding: 8px 12px;
            border: 1px solid #ced4da;
            border-radius: var(--border-radius);
            font-size: 1em;
            width: auto; /* Cho input text t·ª± ƒë·ªông co gi√£n */
            transition: border-color .15s ease-in-out,box-shadow .15s ease-in-out;
        }
         input[type="text"]:focus, textarea:focus {
            border-color: #86b7fe;
            outline: 0;
            box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
         }


         input[type="text"] {
             margin: 0 5px;
             line-height: 1.5;
             min-width: 40px; /* ƒê·∫£m b·∫£o √¥ kh√¥ng qu√° nh·ªè */
             text-align: center; /* CƒÉn gi·ªØa ch·ªØ trong √¥ */
         }

        textarea {
            width: 95%; /* Chi·ªÅu r·ªông √¥ d·ªãch */
            margin-top: 8px;
            min-height: 50px; /* Chi·ªÅu cao t·ªëi thi·ªÉu */
            display: block; /* ƒê·ªÉ chi·∫øm d√≤ng ri√™ng */
        }

        /* Styling cho c√°c l·ª±a ch·ªçn radio/checkbox */
        label {
            display: block;
            margin-bottom: 8px;
            cursor: pointer;
            padding: 10px 15px; /* TƒÉng v√πng nh·∫•n */
            border-radius: var(--border-radius);
            transition: background-color 0.2s ease;
            border: 1px solid transparent; /* Th√™m vi·ªÅn ·∫©n ƒë·ªÉ kh√¥ng b·ªã nh·∫£y layout khi hover */
        }
         label:hover {
             background-color: #e9ecef; /* M√†u n·ªÅn nh·∫π khi hover */
             border-color: #dee2e6;
         }
         label > input[type="radio"] {
             margin-right: 10px;
             vertical-align: middle; /* CƒÉn gi·ªØa n√∫t radio */
         }
         /* Highlight label khi input ƒë∆∞·ª£c ch·ªçn */
         input[type="radio"]:checked + span, /* N·∫øu b·∫°n c√≥ span bao text */
         label:has(input[type="radio"]:checked) { /* N·∫øu kh√¥ng c√≥ span */
            /* background-color: #cfe2ff; */ /* N·ªÅn xanh d∆∞∆°ng nh·∫°t khi ch·ªçn */
            /* border-color: #b6d4fe; */
            /* font-weight: 500; */ /* In ƒë·∫≠m nh·∫π khi ch·ªçn */
         }


        /* Style for audio player */
        audio {
             width: 100%;
             max-width: 600px; /* R·ªông h∆°n ch√∫t */
             margin: 10px auto 20px auto; /* CƒÉn gi·ªØa v√† th√™m kho·∫£ng c√°ch */
             display: block;
             box-shadow: var(--box-shadow);
             border-radius: var(--border-radius);
        }

        button {
            padding: 12px 20px; /* N√∫t to h∆°n */
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 1.05em; /* Ch·ªØ to h∆°n */
            font-weight: 500;
            margin-top: 15px;
            transition: background-color 0.2s ease, box-shadow 0.2s ease, transform 0.1s ease;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }
         button:hover:not(:disabled) {
             box-shadow: 0 3px 5px rgba(0,0,0,0.15);
             transform: translateY(-1px); /* Hi·ªáu ·ª©ng nh·∫•c l√™n */
         }
         button:active:not(:disabled) {
              transform: translateY(0px); /* Hi·ªáu ·ª©ng nh·∫•n xu·ªëng */
              box-shadow: 0 1px 2px rgba(0,0,0,0.1);
         }

         button:disabled {
             background-color: #adb5bd; /* M√†u x√°m ƒë·∫≠m h∆°n khi b·ªã v√¥ hi·ªáu h√≥a */
             color: #f8f9fa;
             cursor: not-allowed;
             box-shadow: none;
         }

        #submitBtn {
            background-color: var(--success-color);
            color: white;
        }
        #submitBtn:hover:not(:disabled) {
            background-color: #157347; /* Xanh l√° ƒë·∫≠m h∆°n */
        }

        #googleFormBtn {
             background-color: var(--warning-color);
             color: var(--text-color);
        }
        #googleFormBtn:hover:not(:disabled) {
             background-color: #ffca2c; /* V√†ng ƒë·∫≠m h∆°n */
        }


        #results {
            margin-top: 25px;
            padding: 20px;
            background-color: #d1e7dd; /* N·ªÅn xanh l√° th√†nh c√¥ng nh·∫°t */
            border: 1px solid #badbcc;
            border-radius: var(--border-radius);
        }
         #results h3 {
             color: var(--success-color);
             margin-top: 0;
             text-align: center;
             font-size: 1.3em;
         }
         #results p {
             font-size: 1.1em;
             margin-bottom: 8px;
         }
         .score-display {
             font-weight: bold;
         }


        #googleFormReminder {
            margin: 25px 0;
            padding: 18px;
            background-color: #fff3cd;
            border: 1px solid #ffeeba;
            border-radius: var(--border-radius);
            text-align: center;
            font-size: 1.35em;
            font-weight: bold;
            color: #856404;
            animation: blink 1.8s linear infinite; /* Ch·∫≠m h∆°n ch√∫t */
        }

        @keyframes blink {
            0% { opacity: 1; }
            50% { opacity: 0.4; }
            100% { opacity: 1; }
        }

        .cute-icon {
            font-size: 1.2em;
            display: inline-block;
            margin-left: 5px;
            vertical-align: middle; /* CƒÉn gi·ªØa icon v·ªõi text */
        }

        /* Spinner cho n√∫t g·ª≠i */
        .spinner {
            display: inline-block;
            width: 1em;
            height: 1em;
            vertical-align: -0.125em; /* CƒÉn ch·ªânh v·ªã tr√≠ spinner */
            border: 0.15em solid currentColor; /* ƒê·ªô d√†y vi·ªÅn */
            border-right-color: transparent; /* L√†m 1 c·∫°nh trong su·ªët */
            border-radius: 50%;
            animation: spinner-border .75s linear infinite;
            margin-left: 8px; /* Kho·∫£ng c√°ch v·ªõi ch·ªØ */
        }

        @keyframes spinner-border {
            to { transform: rotate(360deg); }
        }

        /* ƒê√°nh d·∫•u c√¢u tr·∫£ l·ªùi ƒë√∫ng/sai */
         .correct-answer {
             /* color: var(--success-color) !important; */ /* B·ªè m√†u ch·ªØ ƒë·ªÉ kh√¥ng ghi ƒë√® m√†u ƒë·ªè c·ªßa sai */
             font-weight: bold;
             background-color: #d1e7dd !important; /* Ch·ªâ ƒë·ªïi n·ªÅn xanh */
         }
         .wrong-answer {
              color: var(--danger-color) !important;
              font-weight: bold;
              background-color: #f8d7da !important; /* N·ªÅn ƒë·ªè nh·∫°t */
         }
         /* ƒê√°nh d·∫•u l·ª±a ch·ªçn ƒë√∫ng/sai */
         .correct-choice-label {
             color: var(--success-color) !important;
             font-weight: bold !important;
             background-color: #d1e7dd !important; /* N·ªÅn xanh l√° nh·∫°t */
             border-color: #badbcc !important;
         }
         .wrong-choice-label {
              /* color: var(--danger-color) !important; */ /* Kh√¥ng c·∫ßn ƒë·ªïi m√†u ch·ªØ ƒë·ªè */
              background-color: #f8d7da !important; /* N·ªÅn ƒë·ªè nh·∫°t cho l·ª±a ch·ªçn sai */
              border-color: #f5c2c7 !important;
         }
          .wrong-choice-label > span {
              /* Th√™m g·∫°ch ngang cho l·ª±a ch·ªçn sai n·∫øu mu·ªën */
              /* text-decoration: line-through; */
              /* opacity: 0.7; */
          }

        /* --- CSS END --- */
    </style>
</head>
<body>
<div class="container">
    <header>
        <h1>üìù B√†i Ki·ªÉm Tra Cu·ªëi K·ª≥ Ti·∫øng Trung C·∫•p 1 üìù</h1>
        <p class="instructions">Ch√†o m·ª´ng c√°c b·∫°n iu d·∫•u ƒë·∫øn v·ªõi b√†i ki·ªÉm tra cu·ªëi k·ª≥! ‚ú® H√£y b√¨nh tƒ©nh, ƒë·ªçc k·ªπ ƒë·ªÅ v√† l√†m b√†i th·∫≠t t·ªët nh√©. Ch√∫c c√°c b·∫°n ƒë·∫°t k·∫øt qu·∫£ cao! üí™</p>
        <div style="text-align: center;"> <div id="timer">‚è≥ Th·ªùi gian: <span id="time">00:00</span></div> <br>
            <label for="studentName">T√™n c·ªßa b·∫°n l√† g√¨ n√®?</label>
            <input type="text" id="studentName" name="studentName" required placeholder="V√≠ d·ª•: Nguy·ªÖn Th·ªã B√¥ng">
        </div>
    </header>

    <form id="quizForm">
        <section id="part1">
            <h2>Ph·∫ßn I: Ch·ªçn t·ª´ ƒë√∫ng ƒëi·ªÅn v√†o ch·ªó tr·ªëng <span class="cute-icon">‚úçÔ∏è</span><span class="section-points">T·ªïng 25 ƒëi·ªÉm</span></h2>
            <p>C√°c t·ª´ cho s·∫µn: ÊúãÂèã (p√©ngyou), Èì∂Ë°å (y√≠nh√°ng), ‰ªãÁªç (ji√®sh√†o), ÁïôÂ≠¶Áîü (li√∫xu√©shƒìng), Âè´ (ji√†o), ÈÉΩ (d≈çu)</p>
            <div class="question">
                <p style="line-height: 2.5;"> <span class="hanzi">‰Ω†‰ª¨Â•Ω!ÊàëÂÖà</span>
                    <input type="text" id="q1_1" data-answer="‰ªãÁªç" size="5">
                    <span class="hanzi">‰∏Ä‰∏ãÂÑø,Êàë</span>
                    <input type="text" id="q1_2" data-answer="Âè´" size="3">
                    <span class="hanzi">È∫¶ÂÖã,Âæ∑ÂõΩ‰∫∫,ÊòØ</span>
                    <input type="text" id="q1_3" data-answer="ÁïôÂ≠¶Áîü" size="6">
                    <span class="hanzi">„ÄÇËøô‰ΩçÊòØÊàëÁöÑ</span>
                    <input type="text" id="q1_4" data-answer="ÊúãÂèã" size="5">
                    <span class="hanzi">,Â•πÊòØ‰∏≠ÂõΩ‰∫∫,Â•π‰πüÊòØÁïôÂ≠¶Áîü,Êàë‰ª¨</span>
                    <input type="text" id="q1_5" data-answer="ÈÉΩ" size="3">
                    <span class="hanzi">Â≠¶‰π†Ê±âËØ≠„ÄÇÊàë‰ª¨‰ªäÂ§©Âéª</span>
                    <input type="text" id="q1_6" data-answer="Èì∂Ë°å" size="5">
                    <span class="hanzi">Êç¢Èí±,Êàë‰ª¨Ë¶ÅÂéªÂåó‰∫¨ÊóÖË°å„ÄÇ</span>
                </p>
                <button type="button" class="toggle-pinyin" data-target="pinyin1">·∫®n/Hi·ªán Pinyin G·ª£i √Ω üí°</button>
                <p class="pinyin pinyin-hidden" id="pinyin1">N«êmen h«éo! W«í xiƒÅn ... y√≠ xi√†r, w«í ... M√†ik√®, D√©gu√≥ r√©n, sh√¨ ... . Zh√® w√®i sh√¨ w«íde ... , tƒÅ sh√¨ Zh≈çnggu√≥ r√©n, tƒÅ yƒõ sh√¨ li√∫xu√©shƒìng, w«ímen ... xu√©x√≠ H√†ny«î. W«ímen jƒ´ntiƒÅn q√π ... hu√†nqi√°n, w«ímen y√†o q√π Bƒõijƒ´ng l«öx√≠ng.</p>
            </div>
        </section>

        <section id="part2">
             <h2>Ph·∫ßn II: ƒê·ªçc ƒëo·∫°n vƒÉn v√† ch·ªçn ƒë√°p √°n ƒë√∫ng <span class="cute-icon">üìñ</span><span class="section-points">T·ªïng 25 ƒëi·ªÉm</span></h2>
            <div class="reading-passage" style="margin-bottom: 20px; padding: 15px; background-color:#f8f9fa; border-radius: var(--border-radius);">
                <p>
                    <span class="hanzi">ËøôÊòØÊàëÁöÑÊñ∞ÊúãÂèã,Â•πÂè´Áéõ‰∏Ω,ÊòØÁæéÂõΩ‰∫∫„ÄÇ</span><button type="button" class="toggle-pinyin" data-target="pinyin2_1">üí°</button><span class="pinyin pinyin-hidden" id="pinyin2_1">Zh√® sh√¨ w«í de xƒ´n p√©ngyou, tƒÅ ji√†o M«él√¨, sh√¨ Mƒõigu√≥ r√©n.</span> <br>
                    <span class="hanzi">Â•πÂú®Âåó‰∫¨ËØ≠Ë®ÄÂ§ßÂ≠¶Â≠¶‰π†Ê±âËØ≠,‰πüÊòØÊàë‰ª¨ÁöÑÊñ∞ÂêåÂ≠¶„ÄÇ</span><button type="button" class="toggle-pinyin" data-target="pinyin2_2">üí°</button><span class="pinyin pinyin-hidden" id="pinyin2_2">TƒÅ z√†i Bƒõijƒ´ng Y«îy√°n D√†xu√© xu√©x√≠ H√†ny«î, yƒõ sh√¨ w«ímen de xƒ´n t√≥ngxu√©.</span> <br>
                    <span class="hanzi">Â•πÂæàÂñúÊ¨¢ÂêÉÈ•∫Â≠êÂíåÂåÖÂ≠ê,ÂñùÁ∫¢Ëå∂„ÄÇ</span><button type="button" class="toggle-pinyin" data-target="pinyin2_3">üí°</button><span class="pinyin pinyin-hidden" id="pinyin2_3">TƒÅ hƒõn x«êhuan chƒ´ ji«éozi h√© bƒÅozi, hƒì h√≥ngch√°.</span> <br>
                    <span class="hanzi">ËøôÊòØÁéõ‰∏ΩÁöÑÂºüÂºü,‰ªñÂè´È∫¶ÂÖã,‰ªñ‰∏çÊòØÂú®‰∏≠ÂõΩÁïôÂ≠¶,‰ªñÂéª‰∏≠ÂõΩÊóÖË°å„ÄÇ</span><button type="button" class="toggle-pinyin" data-target="pinyin2_4">üí°</button><span class="pinyin pinyin-hidden" id="pinyin2_4">Zh√® sh√¨ M«él√¨ de d√¨di, tƒÅ ji√†o M√†ik√®, tƒÅ b√∫ sh√¨ z√†i Zh≈çnggu√≥ li√∫xu√©, tƒÅ q√π Zh≈çnggu√≥ l«öx√≠ng.</span> <br>
                    <span class="hanzi">‰ªñÂæàÂñúÊ¨¢‰∏≠ÂõΩÁöÑÊñáÂåñ‰∏éÂéÜÂè≤„ÄÇ</span><button type="button" class="toggle-pinyin" data-target="pinyin2_5">üí°</button><span class="pinyin pinyin-hidden" id="pinyin2_5">TƒÅ hƒõn x«êhuan Zh≈çnggu√≥ de w√©nhu√† y«î l√¨sh«ê.</span> <br>
                    <span class="hanzi">‰ªñ‰ª¨ÈÉΩÂæàÈ´òÂÖ¥ËÆ§ËØÜ‰Ω†‰ª¨„ÄÇ</span><button type="button" class="toggle-pinyin" data-target="pinyin2_6">üí°</button><span class="pinyin pinyin-hidden" id="pinyin2_6">TƒÅmen d≈çu hƒõn gƒÅox√¨ng r√®nshi n«êmen.</span>
                </p>
            </div>
             <div class="question">
                <p>1. <span class="hanzi">Áéõ‰∏ΩÊòØÂì™ÂõΩ‰∫∫?</span> <span class="question-points">(5 ƒëi·ªÉm)</span> <button type="button" class="toggle-pinyin" data-target="pinyin2_q1">üí°</button><span class="pinyin pinyin-hidden" id="pinyin2_q1">M«él√¨ sh√¨ n«é gu√≥ r√©n?</span></p>
                <label><input type="radio" name="q2_1" value="A"><span> A. Ê≥ïÂõΩ‰∫∫ (F«égu√≥ r√©n)</span></label>
                <label><input type="radio" name="q2_1" value="B" data-correct="true"><span> B. ÁæéÂõΩ‰∫∫ (Mƒõigu√≥ r√©n)</span></label>
                <label><input type="radio" name="q2_1" value="C"><span> C. Ë∂äÂçó‰∫∫ (Yu√®n√°n r√©n)</span></label>
                <label><input type="radio" name="q2_1" value="D"><span> D. ‰∏≠ÂõΩ‰∫∫ (Zh≈çnggu√≥ r√©n)</span></label>
            </div>
             <div class="question">
                <p>2. <span class="hanzi">Ë∞ÅÂú®Âåó‰∫¨ËØ≠Ë®ÄÂ§ßÂ≠¶Â≠¶‰π†Ê±âËØ≠?</span> <span class="question-points">(5 ƒëi·ªÉm)</span> <button type="button" class="toggle-pinyin" data-target="pinyin2_q2">üí°</button><span class="pinyin pinyin-hidden" id="pinyin2_q2">Sh√©i z√†i Bƒõijƒ´ng Y«îy√°n D√†xu√© xu√©x√≠ H√†ny«î?</span></p>
                <label><input type="radio" name="q2_2" value="A"><span> A. Âº†‰∏ú (ZhƒÅng D≈çng)</span></label>
                <label><input type="radio" name="q2_2" value="B"><span> B. È∫¶ÂÖã (M√†i K√®)</span></label>
                <label><input type="radio" name="q2_2" value="C" data-correct="true"><span> C. Áéõ‰∏Ω (M«é L√¨)</span></label>
                <label><input type="radio" name="q2_2" value="D"><span> D. Áî∞Ëä≥ (Ti√°n FƒÅng)</span></label>
            </div>
             <div class="question">
                <p>3. <span class="hanzi">Áéõ‰∏ΩÂñúÊ¨¢ÂêÉ‰ªÄ‰πà?</span> <span class="question-points">(5 ƒëi·ªÉm)</span> <button type="button" class="toggle-pinyin" data-target="pinyin2_q3">üí°</button><span class="pinyin pinyin-hidden" id="pinyin2_q3">M«él√¨ x«êhuan chƒ´ sh√©nme?</span></p>
                <label><input type="radio" name="q2_3" value="A"><span> A. Á±≥È•≠ÂíåÈù¢ÂåÖ (m«êf√†n h√© mi√†nbƒÅo)</span></label>
                <label><input type="radio" name="q2_3" value="B"><span> B. È•∫Â≠êÂíåÁ±≥È•≠ (ji«éozi h√© m«êf√†n)</span></label>
                <label><input type="radio" name="q2_3" value="C"><span> C. Á±≥È•≠ÂíåÈù¢ÂåÖ (m«êf√†n h√© mi√†nbƒÅo)</span></label>
                <label><input type="radio" name="q2_3" value="D" data-correct="true"><span> D. È•∫Â≠êÂíåÂåÖÂ≠ê (ji«éozi h√© bƒÅozi)</span></label>
            </div>
             <div class="question">
                <p>4. <span class="hanzi">È∫¶ÂÖãÂéª‰∏≠ÂõΩÂÅö‰ªÄ‰πà?</span> <span class="question-points">(5 ƒëi·ªÉm)</span> <button type="button" class="toggle-pinyin" data-target="pinyin2_q4">üí°</button><span class="pinyin pinyin-hidden" id="pinyin2_q4">M√†ik√® q√π Zh≈çnggu√≥ zu√≤ sh√©nme?</span></p>
                <label><input type="radio" name="q2_4" value="A"><span> A. ÁïôÂ≠¶ (li√∫xu√©)</span></label>
                <label><input type="radio" name="q2_4" value="B"><span> B. Â≠¶Ê±âËØ≠ (xu√© H√†ny«î)</span></label>
                <label><input type="radio" name="q2_4" value="C" data-correct="true"><span> C. ÊóÖË°å (l«öx√≠ng)</span></label>
                <label><input type="radio" name="q2_4" value="D"><span> D. ÊâæÊúãÂèã (zh«éo p√©ngyou)</span></label>
            </div>
             <div class="question">
                <p>5. <span class="hanzi">‰∏ãÈù¢Âì™Âè•ÊòØÂØπÁöÑ?</span> <span class="question-points">(5 ƒëi·ªÉm)</span> <button type="button" class="toggle-pinyin" data-target="pinyin2_q5">üí°</button><span class="pinyin pinyin-hidden" id="pinyin2_q5">Xi√†mi√†n n«é j√π sh√¨ du√¨ de?</span></p>
                <label><input type="radio" name="q2_5" value="A"><span> A. Áéõ‰∏ΩÂñúÊ¨¢ÂñùÂ•∂Ëå∂ (M«él√¨ x«êhuan hƒì n«éich√°)</span></label>
                <label><input type="radio" name="q2_5" value="B"><span> B. È∫¶ÂÖãÂñúÊ¨¢ÂêÉÂåÖÂ≠ê (M√†ik√® x«êhuan chƒ´ bƒÅozi)</span></label>
                <label><input type="radio" name="q2_5" value="C"><span> C. È∫¶ÂÖãÊòØÊàë‰ª¨ÁöÑÊñ∞ÂêåÂ≠¶ (M√†ik√® sh√¨ w«ímen de xƒ´n t√≥ngxu√©)</span></label>
                <label><input type="radio" name="q2_5" value="D" data-correct="true"><span> D. È∫¶ÂÖãÊòØÁéõ‰∏ΩÁöÑÂºüÂºü (M√†ik√® sh√¨ M«él√¨ de d√¨di)</span></label>
            </div>
        </section>

        <section id="part3">
             <h2>Ph·∫ßn III: Th·ª≠ t√†i d·ªãch thu·∫≠t n√†o <span class="cute-icon">üó£Ô∏è</span><span class="section-points">Ph·∫ßn n√†y ch·∫•m ri√™ng</span></h2>
             <div class="question">
                 <p>1. <span class="hanzi">ÊòüÊúü‰∏Ä„ÄÅÊòüÊúü‰∏â„ÄÅÊòüÊúü‰∫î,ÊàëÂíåÊúãÂèãÂéªÂ≠¶Ê†°Â≠¶Ê±âËØ≠ÂíåËã±ËØ≠„ÄÇ</span> <button type="button" class="toggle-pinyin" data-target="pinyin3_1">üí°</button><span class="pinyin pinyin-hidden" id="pinyin3_1">Xƒ´ngqƒ´ yƒ´, xƒ´ngqƒ´ sƒÅn, xƒ´ngqƒ´ w«î, w«í h√© p√©ngyou q√π xu√©xi√†o xu√© H√†ny«î h√© Yƒ´ngy«î.</span></p>
                 <textarea id="q3_1" name="q3_1" rows="2" cols="50" placeholder="Nh·∫≠p b·∫£n d·ªãch c·ªßa b·∫°n v√†o ƒë√¢y..."></textarea>
             </div>
              <div class="question">
                 <p>2. <span class="hanzi">‰Ω†ÁöÑÊâãÊú∫Âè∑Á†ÅÊòØÂá†Âè∑?ÊàëÁªô‰Ω†ÊâìÁîµËØù„ÄÇÂë®Êú´,Êàë‰ª¨ÂéªÂíñÂï°È¶ÜÂ≠¶‰π†Ê±âËØ≠Âêß„ÄÇ</span> <button type="button" class="toggle-pinyin" data-target="pinyin3_2">üí°</button><span class="pinyin pinyin-hidden" id="pinyin3_2">N«ê de sh«íujƒ´ h√†om«é sh√¨ j«ê h√†o? W«í gƒõi n«ê d«é di√†nhu√†. Zh≈çum√≤, w«ímen q√π kƒÅfƒìi gu«én xu√©x√≠ H√†ny«î ba.</span></p>
                 <textarea id="q3_2" name="q3_2" rows="2" cols="50" placeholder="Nh·∫≠p b·∫£n d·ªãch c·ªßa b·∫°n v√†o ƒë√¢y..."></textarea>
             </div>
              <div class="question">
                 <p>3. <span class="hanzi">ÁéãËÄÅÂ∏à‰ªäÂ§©‰∏çÂú®ÂäûÂÖ¨ÂÆ§,‰ªñÂõûÂÆ∂‰∫Ü„ÄÇ‰ªñÂÆ∂Âú®18Ê•º‰∏ÄÈó®,ÊàøÈó¥Âè∑ÊòØ101„ÄÇ</span> <button type="button" class="toggle-pinyin" data-target="pinyin3_3">üí°</button><span class="pinyin pinyin-hidden" id="pinyin3_3">W√°ng l«éoshƒ´ jƒ´ntiƒÅn b√∫ z√†i b√†ng≈çngsh√¨, tƒÅ hu√≠ jiƒÅ le. TƒÅ jiƒÅ z√†i 18 l√≥u yƒ´ m√©n, f√°ngjiƒÅn h√†o sh√¨ 101.</span></p>
                 <textarea id="q3_3" name="q3_3" rows="2" cols="50" placeholder="Nh·∫≠p b·∫£n d·ªãch c·ªßa b·∫°n v√†o ƒë√¢y..."></textarea>
             </div>
             <div class="question">
                 <p>4. <span class="hanzi">ÊàëÊúÄÂñúÊ¨¢ÂêÉÁöÑÊ∞¥ÊûúÊòØËãπÊûú„ÄÅÈ¶ôËïâ„ÄÅËçâËéìÂíåË•øÁìú„ÄÇÊàë‰∏çÂñúÊ¨¢ÂêÉÊ¶¥Ëé≤„ÄÇ</span> <button type="button" class="toggle-pinyin" data-target="pinyin3_4">üí°</button><span class="pinyin pinyin-hidden" id="pinyin3_4">W«í zu√¨ x«êhuan chƒ´ de shu«êgu«í sh√¨ p√≠nggu«í, xiƒÅngjiƒÅo, c«éom√©i h√© xƒ´guƒÅ. W«í b√π x«êhuan chƒ´ li√∫li√°n.</span></p>
                 <textarea id="q3_4" name="q3_4" rows="2" cols="50" placeholder="Nh·∫≠p b·∫£n d·ªãch c·ªßa b·∫°n v√†o ƒë√¢y..."></textarea>
             </div>
              <div class="question">
                 <p>5. <span class="hanzi">È©¨ÂÖã‰∏çÊòØ‰∏≠ÂõΩ‰∫∫,‰ªñÊòØËã±ÂõΩ‰∫∫„ÄÇ‰ªñÂñúÊ¨¢ÂêÉÈù¢Êù°„ÄÅÂñùÈ∏°ËõãÊ±§„ÄÇ‰ªäÂ§©‰ªñÂéªÈ£üÂ†Ç‰π∞‰∫Ü‰∏§Á¢óÈù¢Êù°Âíå‰∏§Á¢óÊ±§,‰∏ÄÂÖ±ÂÖ´‰∏á‰πùË∂äÂçóÁõæ„ÄÇ</span> <button type="button" class="toggle-pinyin" data-target="pinyin3_5">üí°</button><span class="pinyin pinyin-hidden" id="pinyin3_5">M«ék√® b√∫ sh√¨ Zh≈çnggu√≥ r√©n, tƒÅ sh√¨ Yƒ´nggu√≥ r√©n. TƒÅ x«êhuan chƒ´ mi√†nti√°o, hƒì jƒ´d√†n tƒÅng. Jƒ´ntiƒÅn tƒÅ q√π sh√≠t√°ng m«éi le li«éng w«én mi√†nti√°o h√© li«éng w«én tƒÅng, y√≠g√≤ng bƒÅ w√†n ji«î qiƒÅn Yu√®n√°n d√πn.</span></p>
                 <textarea id="q3_5" name="q3_5" rows="3" cols="50" placeholder="Nh·∫≠p b·∫£n d·ªãch c·ªßa b·∫°n v√†o ƒë√¢y..."></textarea>
             </div>
        </section>

        <section id="part4A">
            <h2>Ph·∫ßn IV-A: L·∫Øng nghe v√† ch·ªçn ƒë√°p √°n ƒë√∫ng <span class="cute-icon">üéß</span><span class="section-points">T·ªïng 25 ƒëi·ªÉm</span></h2>
            <p class="instructions">B·∫•m n√∫t Play ‚ñ∂Ô∏è ƒë·ªÉ nghe v√† ch·ªçn c√¢u tr·∫£ l·ªùi nha!</p>
            <audio id="audioPlayer" controls src="https://res.cloudinary.com/dylnm79id/video/upload/v1745323589/nghe_Q1_11_iztnes.mp3">
                R·∫•t ti·∫øc, tr√¨nh duy·ªát n√†y kh√¥ng h·ªó tr·ª£ ph√°t audio tr·ª±c ti·∫øp ho·∫∑c link audio ch∆∞a ƒë√∫ng. B·∫°n h√£y th·ª≠ tr√¨nh duy·ªát kh√°c ho·∫∑c b√°o gi√°o vi√™n nh√©!
            </audio>

            <div class="question">
                <p>1. C√¢u h·ªèi 1: <span class="question-points">(5 ƒëi·ªÉm)</span></p>
                <label><input type="radio" name="q4_1" value="A"><span> A. ÂéªÂ≠¶Ê†° (q√π xu√©xi√†o)</span></label>
                <label><input type="radio" name="q4_1" value="B" data-correct="true"><span> B. ÂéªÈì∂Ë°å (q√π y√≠nh√°ng)</span></label> <label><input type="radio" name="q4_1" value="C"><span> C. ÂéªÂ≠¶Ê†°ÂíåÈì∂Ë°å (q√π xu√©xi√†o h√© y√≠nh√°ng)</span></label>
                <label><input type="radio" name="q4_1" value="D"><span> D. Âú®ÂÆ∂ (z√†ijiƒÅ)</span></label>
            </div>
            <div class="question">
                <p>2. C√¢u h·ªèi 2: <span class="question-points">(5 ƒëi·ªÉm)</span></p>
                <label><input type="radio" name="q4_2" value="A"><span> A. Êó•ÂÖÉ (r√¨yu√°n)</span></label>
                <label><input type="radio" name="q4_2" value="B" data-correct="true"><span> B. ÁæéÂÖÉ (mƒõiyu√°n)</span></label> <label><input type="radio" name="q4_2" value="C"><span> C. ‰∫∫Ê∞ëÂ∏Å (r√©nm√≠nb√¨)</span></label>
                <label><input type="radio" name="q4_2" value="D"><span> D. ‰ªÄ‰πàÈÉΩÊ≤°Êúâ (sh√©nme d≈çu m√©iy«íu)</span></label>
            </div>
             <div class="question">
                <p>3. C√¢u h·ªèi 3: <span class="question-points">(5 ƒëi·ªÉm)</span></p>
                <label><input type="radio" name="q4_3" value="A"><span> A. 1200ÂÖÉ‰∫∫Ê∞ëÂ∏Å (1200 yu√°n r√©nm√≠nb√¨)</span></label>
                <label><input type="radio" name="q4_3" value="B"><span> B. 1100ÂÖÉ‰∫∫Ê∞ëÂ∏Å (1100 yu√°n r√©nm√≠nb√¨)</span></label>
                <label><input type="radio" name="q4_3" value="C"><span> C. 700Ê¨ßÂÖÉ (700 ≈çuyu√°n)</span></label>
                <label><input type="radio" name="q4_3" value="D" data-correct="true"><span> D. 100Ê¨ßÂÖÉ (100 ≈çuyu√°n)</span></label> </div>
             <div class="question">
                <p>4. C√¢u h·ªèi 4: <span class="question-points">(5 ƒëi·ªÉm)</span></p>
                <label><input type="radio" name="q4_4" value="A"><span> A. Âú®ÂïÜÂ∫ó (z√†i shƒÅngdi√†n)</span></label>
                <label><input type="radio" name="q4_4" value="B"><span> B. Âú®È•≠Â∫ó (z√†i f√†ndi√†n)</span></label>
                <label><input type="radio" name="q4_4" value="C" data-correct="true"><span> C. Âú®Èì∂Ë°å (z√†i y√≠nh√°ng)</span></label> <label><input type="radio" name="q4_4" value="D"><span> D. Âú®Â≠¶Ê†° (z√†i xu√©xi√†o)</span></label>
            </div>
            <div class="question">
                <p>5. C√¢u h·ªèi 5: <span class="question-points">(5 ƒëi·ªÉm)</span></p>
                <label><input type="radio" name="q4_5" value="A"><span> A. Âõæ‰π¶È¶Ü (t√∫sh≈´gu«én)</span></label>
                <label><input type="radio" name="q4_5" value="B"><span> B. ÈÇÆÂ±Ä (y√≥uj√∫)</span></label>
                <label><input type="radio" name="q4_5" value="C" data-correct="true"><span> C. Èì∂Ë°å (y√≠nh√°ng)</span></label> <label><input type="radio" name="q4_5" value="D"><span> D. ÂõûÂÆ∂ (hu√≠jiƒÅ)</span></label>
            </div>
        </section>


        <section id="submission" style="text-align: center;"> <h2>Ho√†n th√†nh xu·∫•t s·∫Øc! <span class="cute-icon">üéâ</span></h2>
            <div id="results" style="display: none; text-align: left;"> <h3>K·∫øt qu·∫£ c·ªßa b·∫°n n√®:</h3>
                <p>‚úÖ Ph·∫ßn I (ƒêi·ªÅn t·ª´): <span class="score-display" id="scorePart1">0</span> / 25 ƒëi·ªÉm</p>
                <p>‚úÖ Ph·∫ßn II (ƒê·ªçc hi·ªÉu): <span class="score-display" id="scorePart2">0</span> / 25 ƒëi·ªÉm</p>
                <p>‚úÖ Ph·∫ßn IV-A (Nghe hi·ªÉu): <span class="score-display" id="scorePart4A">0</span> / 25 ƒëi·ªÉm</p>
                <hr>
                <p><strong>üèÜ T·ªïng ƒëi·ªÉm (ph·∫ßn t·ª± ƒë·ªông ch·∫•m): <span class="score-display" id="totalScore">0</span> / 75 ƒëi·ªÉm</strong></p>
                <p><i>(üìù Ph·∫ßn III d·ªãch thu·∫≠t s·∫Ω ƒë∆∞·ª£c gi√°o vi√™n ch·∫•m ri√™ng nha)</i></p>
            </div>
            <div id="googleFormReminder" style="display: none;">
                üö® B·∫°n ∆°i! Nh·ªõ ·∫•n n√∫t "N·ªôp K·∫øt Qu·∫£ L√™n Google Form" ƒë·ªÉ l∆∞u b√†i l√†m nh√©! üö®
            </div>
            <button type="button" id="submitBtn"><span class="cute-icon">üíØ</span> Ch·∫•m ƒëi·ªÉm & Hi·ªán n√∫t N·ªôp Form</button>
            <br> <button type="button" id="googleFormBtn" style="display: none;"><span class="cute-icon">üöÄ</span> N·ªôp K·∫øt Qu·∫£ L√™n Google Form <span class="spinner" style="display: none;"></span></button>
        </section>
    </form>
</div> <script>
        // --- JAVASCRIPT START ---
        document.addEventListener('DOMContentLoaded', () => {
            // L·∫•y c√°c element c·∫ßn thi·∫øt
            const timeElement = document.getElementById('time');
            const toggleButtons = document.querySelectorAll('.toggle-pinyin');
            const submitBtn = document.getElementById('submitBtn');
            const googleFormBtn = document.getElementById('googleFormBtn');
            const quizForm = document.getElementById('quizForm');
            const resultsDiv = document.getElementById('results');
            const scorePart1Span = document.getElementById('scorePart1');
            const scorePart2Span = document.getElementById('scorePart2');
            const scorePart4ASpan = document.getElementById('scorePart4A');
            const totalScoreSpan = document.getElementById('totalScore');
            const studentNameInput = document.getElementById('studentName');
            const googleFormReminder = document.getElementById('googleFormReminder');
            const audioPlayer = document.getElementById('audioPlayer');
            const spinner = googleFormBtn.querySelector('.spinner');

            let timerInterval;
            let seconds = 0;
            let quizSubmitted = false;

            // --- ƒêi·ªÉm cho m·ªói c√¢u ---
            const pointsPerQPart1 = 25 / 6; // ~4.17 points
            const pointsPerQPart2 = 5;      // 5 points
            const pointsPerQPart4A = 5;     // 5 points

            // --- B·ªô ƒë·∫øm th·ªùi gian ---
            function startTimer() {
                if (timerInterval) clearInterval(timerInterval);
                timerInterval = setInterval(() => {
                    seconds++;
                    const minutes = Math.floor(seconds / 60);
                    const remainingSeconds = seconds % 60;
                    timeElement.textContent =
                        `${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;
                }, 1000);
            }

            // --- Ch·ª©c nƒÉng ·∫©n/hi·ªán Pinyin ---
            toggleButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetId = button.getAttribute('data-target');
                    const pinyinElement = document.getElementById(targetId);
                    if (pinyinElement) pinyinElement.classList.toggle('pinyin-hidden');
                });
            });

             // --- H√†m ƒë√°nh d·∫•u ƒë√∫ng/sai cho input/label ---
            function markInputCorrectness(inputElement, isCorrect) {
                 inputElement.classList.remove('correct-answer', 'wrong-answer');
                 inputElement.style.backgroundColor = ''; // Reset background
                 if (isCorrect) {
                     inputElement.classList.add('correct-answer');
                     inputElement.style.backgroundColor = '#d1e7dd';
                 } else {
                     inputElement.classList.add('wrong-answer');
                     inputElement.style.backgroundColor = '#f8d7da';
                 }
            }
            function markChoiceCorrectness(selectedLabel, correctLabel) {
                const groupName = selectedLabel?.querySelector('input')?.name || correctLabel?.querySelector('input')?.name;
                 if (groupName) {
                     document.querySelectorAll(`input[name="${groupName}"]`).forEach(radio => {
                         radio.parentElement.classList.remove('correct-choice-label', 'wrong-choice-label');
                     });
                 }
                 if (correctLabel) correctLabel.classList.add('correct-choice-label');
                 if (selectedLabel && selectedLabel !== correctLabel) selectedLabel.classList.add('wrong-choice-label');
            }

            // --- Ch·ª©c nƒÉng ch·∫•m ƒëi·ªÉm t·ª± ƒë·ªông ---
            function calculateScore() {
                let score1_raw = 0, score2_raw = 0, score4A_raw = 0;

                // Ch·∫•m Ph·∫ßn I (ƒë·∫øm s·ªë c√¢u ƒë√∫ng)
                document.querySelectorAll('#part1 input[type="text"]').forEach(input => {
                    const isCorrect = input.value.trim().toLowerCase() === input.getAttribute('data-answer').toLowerCase();
                     if (input.value.trim() !== '') {
                        markInputCorrectness(input, isCorrect);
                         if (isCorrect) score1_raw++;
                     } else {
                         input.style.backgroundColor = '';
                         input.classList.remove('correct-answer', 'wrong-answer');
                     }
                });

                // Ch·∫•m Ph·∫ßn II (ƒë·∫øm s·ªë c√¢u ƒë√∫ng)
                document.querySelectorAll('#part2 .question').forEach((question, index) => {
                     const name = `q2_${index+1}`;
                     const selectedOption = question.querySelector(`input[name="${name}"]:checked`);
                     const correctOption = question.querySelector(`input[name="${name}"][data-correct="true"]`);
                     markChoiceCorrectness(selectedOption?.parentElement, correctOption?.parentElement);
                     if (selectedOption && selectedOption.getAttribute('data-correct') === 'true') {
                         score2_raw++;
                     }
                 });

                // Ch·∫•m Ph·∫ßn IV-A (ƒë·∫øm s·ªë c√¢u ƒë√∫ng)
                document.querySelectorAll('#part4A .question').forEach((question, index) => {
                     const name = `q4_${index+1}`;
                     const selectedOption = question.querySelector(`input[name="${name}"]:checked`);
                     const correctOption = question.querySelector(`input[name="${name}"][data-correct="true"]`);
                     markChoiceCorrectness(selectedOption?.parentElement, correctOption?.parentElement);
                     if (selectedOption && selectedOption.getAttribute('data-correct') === 'true') {
                         score4A_raw++;
                     }
                 });

                // T√≠nh ƒëi·ªÉm cu·ªëi c√πng theo thang 25 cho m·ªói ph·∫ßn
                let finalScore1 = (score1_raw * pointsPerQPart1);
                let finalScore2 = score2_raw * pointsPerQPart2;
                let finalScore4A = score4A_raw * pointsPerQPart4A;
                let finalTotalScore = finalScore1 + finalScore2 + finalScore4A;


                // Hi·ªÉn th·ªã ƒëi·ªÉm (l√†m tr√≤n ƒë·∫øn 1 ch·ªØ s·ªë th·∫≠p ph√¢n)
                scorePart1Span.textContent = finalScore1.toFixed(1);
                scorePart2Span.textContent = finalScore2.toFixed(1);
                scorePart4ASpan.textContent = finalScore4A.toFixed(1);
                totalScoreSpan.textContent = finalTotalScore.toFixed(1);
                resultsDiv.style.display = 'block';
            }

            // --- X·ª≠ l√Ω khi nh·∫•n n√∫t "Ch·∫•m ƒëi·ªÉm" ---
            submitBtn.addEventListener('click', () => {
                if (quizSubmitted) return;

                const studentName = studentNameInput.value.trim();
                if (studentName === '') {
                    alert('B·∫°n ∆°i, nh·∫≠p t√™n c·ªßa m√¨nh v√†o tr∆∞·ªõc nh√©! üòâ');
                    studentNameInput.focus();
                    studentNameInput.style.borderColor = 'red';
                    return;
                }
                studentNameInput.style.borderColor = '#ced4da';

                clearInterval(timerInterval);
                calculateScore(); // T√≠nh v√† hi·ªÉn th·ªã ƒëi·ªÉm
                submitBtn.disabled = true;
                submitBtn.innerHTML = '<span class="cute-icon">‚úÖ</span> ƒê√£ ch·∫•m ƒëi·ªÉm!';
                googleFormReminder.style.display = 'block';
                googleFormBtn.style.display = 'inline-block';

                // V√¥ hi·ªáu h√≥a c√°c input, textarea, button pinyin, audio
                quizForm.querySelectorAll('input, textarea').forEach(el => {
                    if (el.id !== 'studentName') el.disabled = true;
                });
                toggleButtons.forEach(button => button.disabled = true);
                if (audioPlayer) {
                    audioPlayer.pause();
                }
            });

            // --- X·ª≠ l√Ω khi nh·∫•n n√∫t "N·ªôp K·∫øt Qu·∫£ L√™n Google Form" ---
            googleFormBtn.addEventListener('click', async () => {
                if (quizSubmitted) return;

                 googleFormBtn.disabled = true;
                 spinner.style.display = 'inline-block';
                 googleFormBtn.childNodes[0].nodeValue = 'ƒêang g·ª≠i... ';


                // Thu th·∫≠p d·ªØ li·ªáu
                const studentName = studentNameInput.value.trim();
                // L·∫•y ƒëi·ªÉm ƒë√£ t√≠nh (c√≥ th·ªÉ l√†m tr√≤n ho·∫∑c kh√¥ng t√πy b·∫°n mu·ªën g·ª≠i ƒëi th·∫ø n√†o)
                const score1 = parseFloat(scorePart1Span.textContent);
                const score2 = parseFloat(scorePart2Span.textContent);
                const score4A = parseFloat(scorePart4ASpan.textContent);
                const totalScore = parseFloat(totalScoreSpan.textContent);
                const timeTaken = timeElement.textContent;

                const answersPart1 = {}, answersPart2 = {}, answersPart3 = {}, answersPart4A = {};

                document.querySelectorAll('#part1 input[type="text"]').forEach(input => { answersPart1[input.id] = input.value.trim(); });
                document.querySelectorAll('#part2 input[type="radio"]').forEach(radio => { if (radio.checked) answersPart2[radio.name] = radio.value; });
                document.querySelectorAll('#part3 textarea').forEach(textarea => { answersPart3[textarea.id] = textarea.value.trim(); });
                document.querySelectorAll('#part4A input[type="radio"]').forEach(radio => { if (radio.checked) answersPart4A[radio.name] = radio.value; });

                // X·ª≠ l√Ω c√¢u ch∆∞a tr·∫£ l·ªùi tr·∫Øc nghi·ªám
                ["q2_1", "q2_2", "q2_3", "q2_4", "q2_5"].forEach(name => { if (!answersPart2[name]) answersPart2[name] = "Ch∆∞a tr·∫£ l·ªùi"; });
                ["q4_1", "q4_2", "q4_3", "q4_4", "q4_5"].forEach(name => { if (!answersPart4A[name]) answersPart4A[name] = "Ch∆∞a tr·∫£ l·ªùi"; });


                // --- C·∫¨P NH·∫¨T GOOGLE FORM URL V√Ä ENTRY IDs ---
                const googleFormURL = "https://docs.google.com/forms/u/0/d/e/1FAIpQLSf6mAcWKwF_m6sR4ryOYTEcsKIpls65bfo3dH3dJLhcUX92RA/formResponse";
                const entry_studentName = "entry.1184020286"; // h·ªç t√™n h·ªçc vi√™n
                const entry_time        = "entry.862194018";  // th·ªùi gian l√†m b√†i
                const entry_score1      = "entry.274212057";  // ƒêi·ªÉm ph·∫ßn 1
                const entry_score2      = "entry.780880786";  // ƒêi·ªÉm ph·∫ßn 2
                const entry_score4A     = "entry.871166809";  // ƒêi·ªÉm ph·∫ßn 4
                const entry_totalScore  = "entry.1244463908"; // T·ªïng ƒëi·ªÉm (ch∆∞a t√≠nh ph·∫ßn 3)
                const entry_q1_1 = "entry.216628170"; const entry_q1_2 = "entry.177368996"; const entry_q1_3 = "entry.694509259"; const entry_q1_4 = "entry.989213095"; const entry_q1_5 = "entry.1391839935"; const entry_q1_6 = "entry.1345612015";
                const entry_q2_1 = "entry.988466836"; const entry_q2_2 = "entry.474337359"; const entry_q2_3 = "entry.670903786"; const entry_q2_4 = "entry.1640906194"; const entry_q2_5 = "entry.814796580";
                const entry_q3_1 = "entry.1455569591"; const entry_q3_2 = "entry.1833874550"; const entry_q3_3 = "entry.108817839"; const entry_q3_4 = "entry.1315249645"; const entry_q3_5 = "entry.59100414";
                const entry_q4_1 = "entry.434360502"; const entry_q4_2 = "entry.565386669"; const entry_q4_3 = "entry.889003072"; const entry_q4_4 = "entry.1855874281"; const entry_q4_5 = "entry.827165656";
                // ---------------------------------------------------------------------

                const formData = new FormData();
                // Add data to FormData
                formData.append(entry_studentName, studentName);
                formData.append(entry_time, timeTaken);
                formData.append(entry_score1, score1.toFixed(2)); // G·ª≠i ƒëi·ªÉm l√†m tr√≤n 2 ch·ªØ s·ªë
                formData.append(entry_score2, score2.toFixed(2));
                formData.append(entry_score4A, score4A.toFixed(2));
                formData.append(entry_totalScore, totalScore.toFixed(2));
                // Add detailed answers
                formData.append(entry_q1_1, answersPart1['q1_1'] || ''); formData.append(entry_q1_2, answersPart1['q1_2'] || ''); formData.append(entry_q1_3, answersPart1['q1_3'] || ''); formData.append(entry_q1_4, answersPart1['q1_4'] || ''); formData.append(entry_q1_5, answersPart1['q1_5'] || ''); formData.append(entry_q1_6, answersPart1['q1_6'] || '');
                formData.append(entry_q2_1, answersPart2['q2_1']); formData.append(entry_q2_2, answersPart2['q2_2']); formData.append(entry_q2_3, answersPart2['q2_3']); formData.append(entry_q2_4, answersPart2['q2_4']); formData.append(entry_q2_5, answersPart2['q2_5']);
                formData.append(entry_q3_1, answersPart3['q3_1'] || ''); formData.append(entry_q3_2, answersPart3['q3_2'] || ''); formData.append(entry_q3_3, answersPart3['q3_3'] || ''); formData.append(entry_q3_4, answersPart3['q3_4'] || ''); formData.append(entry_q3_5, answersPart3['q3_5'] || '');
                formData.append(entry_q4_1, answersPart4A['q4_1']); formData.append(entry_q4_2, answersPart4A['q4_2']); formData.append(entry_q4_3, answersPart4A['q4_3']); formData.append(entry_q4_4, answersPart4A['q4_4']); formData.append(entry_q4_5, answersPart4A['q4_5']);


                // G·ª≠i d·ªØ li·ªáu ·∫©n ƒëi
                try {
                    await fetch(googleFormURL, {
                        method: 'POST',
                        mode: 'no-cors',
                        body: formData
                    });
                    spinner.style.display = 'none';
                    googleFormBtn.innerHTML = '<span class="cute-icon">üíñ</span> ƒê√£ N·ªôp Th√†nh C√¥ng!';
                    quizSubmitted = true;
                    googleFormReminder.style.display = 'none';
                    alert(`Tuy·ªát v·ªùi ${studentName}! B√†i c·ªßa b·∫°n ƒë√£ ƒë∆∞·ª£c g·ª≠i ƒëi th√†nh c√¥ng! Gi·ªù th√¨ ch·ªù k·∫øt qu·∫£ cu·ªëi c√πng t·ª´ gi√°o vi√™n nh√©! ü•≥`);

                } catch (error) {
                    console.error('L·ªói khi g·ª≠i Google Form:', error);
                     spinner.style.display = 'none';
                     googleFormBtn.disabled = false;
                     googleFormBtn.innerHTML = '<span class="cute-icon">üò•</span> Th·ª≠ N·ªôp L·∫°i';
                    alert('Oops! C√≥ l·ªói x·∫£y ra khi g·ª≠i b√†i. B·∫°n ki·ªÉm tra l·∫°i m·∫°ng r·ªìi th·ª≠ l·∫°i ho·∫∑c b√°o gi√°o vi√™n nh√©!');
                }
            });

            // B·∫Øt ƒë·∫ßu ƒë·∫øm gi·ªù
            startTimer();
        });
        // --- JAVASCRIPT END ---
    </script>

</body>
</html>