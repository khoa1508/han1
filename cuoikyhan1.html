<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BÃ i Kiá»ƒm Tra Cuá»‘i Ká»³ Tiáº¿ng Trung Cáº¥p 1 - CÃ¹ng thá»­ sá»©c nÃ o! ğŸ¯</title>
    <style>
        /* --- CSS START --- */
        :root {
            --primary-color: #007bff; /* Xanh dÆ°Æ¡ng chá»§ Ä‘áº¡o */
            --secondary-color: #6c757d; /* XÃ¡m phá»¥ */
            --success-color: #198754; /* Xanh lÃ¡ thÃ nh cÃ´ng */
            --danger-color: #dc3545; /* Äá» cáº£nh bÃ¡o */
            --warning-color: #ffc107; /* VÃ ng cáº£nh bÃ¡o */
            --info-color: #0dcaf0; /* Xanh lam nháº¡t thÃ´ng tin */
            --light-bg: #f8f9fa; /* Ná»n sÃ¡ng */
            --white-bg: #ffffff;
            --text-color: #212529;
            --border-radius: 0.375rem; /* Bo gÃ³c nháº¹ */
            --box-shadow: 0 2px 5px rgba(0, 0, 0, 0.08);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 15px;
            background-color: var(--light-bg);
            color: var(--text-color);
        }

        .container {
            max-width: 800px; /* Giá»›i háº¡n chiá»u rá»™ng Ä‘á»ƒ dá»… Ä‘á»c */
            margin: 20px auto; /* CÄƒn giá»¯a */
            padding: 0 15px;
        }

        header, section {
            background-color: var(--white-bg);
            padding: 25px;
            margin-bottom: 25px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
        }

        h1 {
            color: var(--primary-color);
            text-align: center;
            font-size: 1.8em;
            margin-bottom: 10px;
        }
         h2 {
            color: var(--primary-color);
            text-align: left;
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 10px;
            margin-bottom: 20px;
            font-size: 1.4em;
            display: flex; /* Äá»ƒ cÄƒn chá»‰nh Ä‘iá»ƒm */
            justify-content: space-between; /* Äáº©y Ä‘iá»ƒm sang pháº£i */
            align-items: center;
        }
        .section-points {
             font-size: 0.8em;
             font-weight: normal;
             color: var(--secondary-color);
             background-color: #e9ecef;
             padding: 3px 8px;
             border-radius: 10px;
        }


        .instructions {
            text-align: center;
            color: var(--secondary-color);
            font-size: 1.1em;
            margin-bottom: 20px;
        }

        #timer {
            text-align: center;
            font-size: 1.3em;
            font-weight: 500; /* Medium weight */
            color: var(--danger-color);
            margin-bottom: 20px;
            background-color: #fdf0f1; /* Ná»n Ä‘á» nháº¡t */
            padding: 8px;
            border-radius: var(--border-radius);
            display: inline-block; /* Cho vá»«a vá»›i ná»™i dung */
            min-width: 150px;
        }

        #studentName {
            display: block;
            margin: 10px auto 20px auto;
            padding: 10px 15px;
            width: 80%;
            max-width: 400px;
            border: 1px solid #ced4da;
            border-radius: var(--border-radius);
            font-size: 1em;
            box-shadow: inset 0 1px 2px rgba(0,0,0,0.075);
        }
         label[for="studentName"] {
             display: block;
             text-align: center;
             font-weight: 500;
             margin-bottom: 5px;
         }

        .question {
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }

        .question:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 5px;
        }

        .question p:first-child { /* Pháº§n mÃ´ táº£ cÃ¢u há»i */
            font-weight: 500;
            margin-bottom: 10px;
            color: #343a40;
        }
        .question-points {
             font-size: 0.9em;
             color: var(--secondary-color);
             font-weight: normal;
             margin-left: 10px;
        }


        .hanzi {
            font-size: 1.25em;
            margin-right: 5px;
            color: #000; /* RÃµ rÃ ng hÆ¡n */
        }

        /* --- Styling Pinyin Ä‘Æ°á»£c cáº£i thiá»‡n --- */
        .pinyin {
            font-style: normal; /* Bá» nghiÃªng */
            color: #004085; /* MÃ u xanh dÆ°Æ¡ng Ä‘áº­m */
            background-color: #cce5ff; /* Ná»n xanh dÆ°Æ¡ng ráº¥t nháº¡t */
            border: 1px solid #b8daff; /* Viá»n xanh nháº¡t */
            padding: 4px 8px; /* Padding lá»›n hÆ¡n chÃºt */
            border-radius: 4px;
            font-size: 1em; /* Cá»¡ chá»¯ báº±ng chá»¯ thÆ°á»ng */
            display: inline-block;
            margin-top: 8px; /* Khoáº£ng cÃ¡ch vá»›i dÃ²ng trÃªn */
            margin-left: 5px;
            line-height: 1.4; /* TÄƒng khoáº£ng cÃ¡ch dÃ²ng náº¿u cáº§n */
            font-weight: 500; /* HÆ¡i Ä‘áº­m hÆ¡n */
        }

        .pinyin-hidden {
            display: none; /* áº¨n pinyin máº·c Ä‘á»‹nh */
        }
        /* --- Káº¿t thÃºc Styling Pinyin --- */


        .toggle-pinyin {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1.1em; /* To hÆ¡n chÃºt */
            padding: 0 5px;
            color: var(--primary-color);
            opacity: 0.8;
            transition: opacity 0.2s ease;
        }
        .toggle-pinyin:hover {
             opacity: 1;
        }


        input[type="text"], textarea {
            padding: 8px 12px;
            border: 1px solid #ced4da;
            border-radius: var(--border-radius);
            font-size: 1em;
            width: auto; /* Cho input text tá»± Ä‘á»™ng co giÃ£n */
            transition: border-color .15s ease-in-out,box-shadow .15s ease-in-out;
        }
         input[type="text"]:focus, textarea:focus {
            border-color: #86b7fe;
            outline: 0;
            box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
         }


         input[type="text"] {
             margin: 0 5px;
             line-height: 1.5;
             min-width: 40px; /* Äáº£m báº£o Ã´ khÃ´ng quÃ¡ nhá» */
             text-align: center; /* CÄƒn giá»¯a chá»¯ trong Ã´ */
         }

        textarea {
            width: 95%; /* Chiá»u rá»™ng Ã´ dá»‹ch */
            margin-top: 8px;
            min-height: 50px; /* Chiá»u cao tá»‘i thiá»ƒu */
            display: block; /* Äá»ƒ chiáº¿m dÃ²ng riÃªng */
        }

        /* Styling cho cÃ¡c lá»±a chá»n radio/checkbox */
        label {
            display: block;
            margin-bottom: 8px;
            cursor: pointer;
            padding: 10px 15px; /* TÄƒng vÃ¹ng nháº¥n */
            border-radius: var(--border-radius);
            transition: background-color 0.2s ease;
            border: 1px solid transparent; /* ThÃªm viá»n áº©n Ä‘á»ƒ khÃ´ng bá»‹ nháº£y layout khi hover */
        }
         label:hover {
             background-color: #e9ecef; /* MÃ u ná»n nháº¹ khi hover */
             border-color: #dee2e6;
         }
         label > input[type="radio"] {
             margin-right: 10px;
             vertical-align: middle; /* CÄƒn giá»¯a nÃºt radio */
         }
         /* Highlight label khi input Ä‘Æ°á»£c chá»n */
         input[type="radio"]:checked + span, /* Náº¿u báº¡n cÃ³ span bao text */
         label:has(input[type="radio"]:checked) { /* Náº¿u khÃ´ng cÃ³ span */
            /* background-color: #cfe2ff; */ /* Ná»n xanh dÆ°Æ¡ng nháº¡t khi chá»n */
            /* border-color: #b6d4fe; */
            /* font-weight: 500; */ /* In Ä‘áº­m nháº¹ khi chá»n */
         }


        /* Style for audio player */
        audio {
             width: 100%;
             max-width: 600px; /* Rá»™ng hÆ¡n chÃºt */
             margin: 10px auto 20px auto; /* CÄƒn giá»¯a vÃ  thÃªm khoáº£ng cÃ¡ch */
             display: block;
             box-shadow: var(--box-shadow);
             border-radius: var(--border-radius);
        }

        button {
            padding: 12px 20px; /* NÃºt to hÆ¡n */
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 1.05em; /* Chá»¯ to hÆ¡n */
            font-weight: 500;
            margin-top: 15px;
            transition: background-color 0.2s ease, box-shadow 0.2s ease, transform 0.1s ease;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }
         button:hover:not(:disabled) {
             box-shadow: 0 3px 5px rgba(0,0,0,0.15);
             transform: translateY(-1px); /* Hiá»‡u á»©ng nháº¥c lÃªn */
         }
         button:active:not(:disabled) {
              transform: translateY(0px); /* Hiá»‡u á»©ng nháº¥n xuá»‘ng */
              box-shadow: 0 1px 2px rgba(0,0,0,0.1);
         }

         button:disabled {
             background-color: #adb5bd; /* MÃ u xÃ¡m Ä‘áº­m hÆ¡n khi bá»‹ vÃ´ hiá»‡u hÃ³a */
             color: #f8f9fa;
             cursor: not-allowed;
             box-shadow: none;
         }

        #submitBtn {
            background-color: var(--success-color);
            color: white;
        }
        #submitBtn:hover:not(:disabled) {
            background-color: #157347; /* Xanh lÃ¡ Ä‘áº­m hÆ¡n */
        }

        #googleFormBtn {
             background-color: var(--warning-color);
             color: var(--text-color);
        }
        #googleFormBtn:hover:not(:disabled) {
             background-color: #ffca2c; /* VÃ ng Ä‘áº­m hÆ¡n */
        }


        #results {
            margin-top: 25px;
            padding: 20px;
            background-color: #d1e7dd; /* Ná»n xanh lÃ¡ thÃ nh cÃ´ng nháº¡t */
            border: 1px solid #badbcc;
            border-radius: var(--border-radius);
        }
         #results h3 {
             color: var(--success-color);
             margin-top: 0;
             text-align: center;
             font-size: 1.3em;
         }
         #results p {
             font-size: 1.1em;
             margin-bottom: 8px;
         }
         .score-display {
             font-weight: bold;
         }


        #googleFormReminder {
            margin: 25px 0;
            padding: 18px;
            background-color: #fff3cd;
            border: 1px solid #ffeeba;
            border-radius: var(--border-radius);
            text-align: center;
            font-size: 1.35em;
            font-weight: bold;
            color: #856404;
            animation: blink 1.8s linear infinite; /* Cháº­m hÆ¡n chÃºt */
        }

        @keyframes blink {
            0% { opacity: 1; }
            50% { opacity: 0.4; }
            100% { opacity: 1; }
        }

        .cute-icon {
            font-size: 1.2em;
            display: inline-block;
            margin-left: 5px;
            vertical-align: middle; /* CÄƒn giá»¯a icon vá»›i text */
        }

        /* Spinner cho nÃºt gá»­i */
        .spinner {
            display: inline-block;
            width: 1em;
            height: 1em;
            vertical-align: -0.125em; /* CÄƒn chá»‰nh vá»‹ trÃ­ spinner */
            border: 0.15em solid currentColor; /* Äá»™ dÃ y viá»n */
            border-right-color: transparent; /* LÃ m 1 cáº¡nh trong suá»‘t */
            border-radius: 50%;
            animation: spinner-border .75s linear infinite;
            margin-left: 8px; /* Khoáº£ng cÃ¡ch vá»›i chá»¯ */
        }

        @keyframes spinner-border {
            to { transform: rotate(360deg); }
        }

        /* ÄÃ¡nh dáº¥u cÃ¢u tráº£ lá»i Ä‘Ãºng/sai */
         .correct-answer {
             /* color: var(--success-color) !important; */ /* Bá» mÃ u chá»¯ Ä‘á»ƒ khÃ´ng ghi Ä‘Ã¨ mÃ u Ä‘á» cá»§a sai */
             font-weight: bold;
             background-color: #d1e7dd !important; /* Chá»‰ Ä‘á»•i ná»n xanh */
         }
         .wrong-answer {
              color: var(--danger-color) !important;
              font-weight: bold;
              background-color: #f8d7da !important; /* Ná»n Ä‘á» nháº¡t */
         }
         /* ÄÃ¡nh dáº¥u lá»±a chá»n Ä‘Ãºng/sai */
         .correct-choice-label {
             color: var(--success-color) !important;
             font-weight: bold !important;
             background-color: #d1e7dd !important; /* Ná»n xanh lÃ¡ nháº¡t */
             border-color: #badbcc !important;
         }
         .wrong-choice-label {
              /* color: var(--danger-color) !important; */ /* KhÃ´ng cáº§n Ä‘á»•i mÃ u chá»¯ Ä‘á» */
              background-color: #f8d7da !important; /* Ná»n Ä‘á» nháº¡t cho lá»±a chá»n sai */
              border-color: #f5c2c7 !important;
         }
          .wrong-choice-label > span {
              /* ThÃªm gáº¡ch ngang cho lá»±a chá»n sai náº¿u muá»‘n */
              /* text-decoration: line-through; */
              /* opacity: 0.7; */
          }

        /* --- CSS END --- */
    </style>
</head>
<body>
<div class="container">
    <header>
        <h1>ğŸ“ BÃ i Kiá»ƒm Tra Cuá»‘i Ká»³ Tiáº¿ng Trung Cáº¥p 1 ğŸ“</h1>
        <p class="instructions">ChÃ o má»«ng cÃ¡c báº¡n iu dáº¥u Ä‘áº¿n vá»›i bÃ i kiá»ƒm tra cuá»‘i ká»³! âœ¨ HÃ£y bÃ¬nh tÄ©nh, Ä‘á»c ká»¹ Ä‘á» vÃ  lÃ m bÃ i tháº­t tá»‘t nhÃ©. ChÃºc cÃ¡c báº¡n Ä‘áº¡t káº¿t quáº£ cao! ğŸ’ª</p>
        <div style="text-align: center;"> <div id="timer">â³ Thá»i gian: <span id="time">00:00</span></div> <br>
            <label for="studentName">TÃªn cá»§a báº¡n lÃ  gÃ¬ nÃ¨?</label>
            <input type="text" id="studentName" name="studentName" required placeholder="VÃ­ dá»¥: Nguyá»…n Thá»‹ BÃ´ng">
        </div>
    </header>

    <form id="quizForm">
        <section id="part1">
            <h2>Pháº§n I: Chá»n tá»« Ä‘Ãºng Ä‘iá»n vÃ o chá»— trá»‘ng <span class="cute-icon">âœï¸</span><span class="section-points">Tá»•ng 25 Ä‘iá»ƒm</span></h2>
            <p>CÃ¡c tá»« cho sáºµn: æœ‹å‹ (pÃ©ngyou), é“¶è¡Œ (yÃ­nhÃ¡ng), ä»‹ç» (jiÃ¨shÃ o), ç•™å­¦ç”Ÿ (liÃºxuÃ©shÄ“ng), å« (jiÃ o), éƒ½ (dÅu)</p>
            <div class="question">
                <p style="line-height: 2.5;"> <span class="hanzi">ä½ ä»¬å¥½!æˆ‘å…ˆ</span>
                    <input type="text" id="q1_1" data-answer="ä»‹ç»" size="5">
                    <span class="hanzi">ä¸€ä¸‹å„¿,æˆ‘</span>
                    <input type="text" id="q1_2" data-answer="å«" size="3">
                    <span class="hanzi">éº¦å…‹,å¾·å›½äºº,æ˜¯</span>
                    <input type="text" id="q1_3" data-answer="ç•™å­¦ç”Ÿ" size="6">
                    <span class="hanzi">ã€‚è¿™ä½æ˜¯æˆ‘çš„</span>
                    <input type="text" id="q1_4" data-answer="æœ‹å‹" size="5">
                    <span class="hanzi">,å¥¹æ˜¯ä¸­å›½äºº,å¥¹ä¹Ÿæ˜¯ç•™å­¦ç”Ÿ,æˆ‘ä»¬</span>
                    <input type="text" id="q1_5" data-answer="éƒ½" size="3">
                    <span class="hanzi">å­¦ä¹ æ±‰è¯­ã€‚æˆ‘ä»¬ä»Šå¤©å»</span>
                    <input type="text" id="q1_6" data-answer="é“¶è¡Œ" size="5">
                    <span class="hanzi">æ¢é’±,æˆ‘ä»¬è¦å»åŒ—äº¬æ—…è¡Œã€‚</span>
                </p>
                <button type="button" class="toggle-pinyin" data-target="pinyin1">áº¨n/Hiá»‡n Pinyin Gá»£i Ã½ ğŸ’¡</button>
                <p class="pinyin pinyin-hidden" id="pinyin1">NÇmen hÇo! WÇ’ xiÄn ... yÃ­ xiÃ r, wÇ’ ... MÃ ikÃ¨, DÃ©guÃ³ rÃ©n, shÃ¬ ... . ZhÃ¨ wÃ¨i shÃ¬ wÇ’de ... , tÄ shÃ¬ ZhÅngguÃ³ rÃ©n, tÄ yÄ› shÃ¬ liÃºxuÃ©shÄ“ng, wÇ’men ... xuÃ©xÃ­ HÃ nyÇ”. WÇ’men jÄ«ntiÄn qÃ¹ ... huÃ nqiÃ¡n, wÇ’men yÃ o qÃ¹ BÄ›ijÄ«ng lÇšxÃ­ng.</p>
            </div>
        </section>

        <section id="part2">
             <h2>Pháº§n II: Äá»c Ä‘oáº¡n vÄƒn vÃ  chá»n Ä‘Ã¡p Ã¡n Ä‘Ãºng <span class="cute-icon">ğŸ“–</span><span class="section-points">Tá»•ng 25 Ä‘iá»ƒm</span></h2>
            <div class="reading-passage" style="margin-bottom: 20px; padding: 15px; background-color:#f8f9fa; border-radius: var(--border-radius);">
                <p>
                    <span class="hanzi">è¿™æ˜¯æˆ‘çš„æ–°æœ‹å‹,å¥¹å«ç›ä¸½,æ˜¯ç¾å›½äººã€‚</span><button type="button" class="toggle-pinyin" data-target="pinyin2_1">ğŸ’¡</button><span class="pinyin pinyin-hidden" id="pinyin2_1">ZhÃ¨ shÃ¬ wÇ’ de xÄ«n pÃ©ngyou, tÄ jiÃ o MÇlÃ¬, shÃ¬ MÄ›iguÃ³ rÃ©n.</span> <br>
                    <span class="hanzi">å¥¹åœ¨åŒ—äº¬è¯­è¨€å¤§å­¦å­¦ä¹ æ±‰è¯­,ä¹Ÿæ˜¯æˆ‘ä»¬çš„æ–°åŒå­¦ã€‚</span><button type="button" class="toggle-pinyin" data-target="pinyin2_2">ğŸ’¡</button><span class="pinyin pinyin-hidden" id="pinyin2_2">TÄ zÃ i BÄ›ijÄ«ng YÇ”yÃ¡n DÃ xuÃ© xuÃ©xÃ­ HÃ nyÇ”, yÄ› shÃ¬ wÇ’men de xÄ«n tÃ³ngxuÃ©.</span> <br>
                    <span class="hanzi">å¥¹å¾ˆå–œæ¬¢åƒé¥ºå­å’ŒåŒ…å­,å–çº¢èŒ¶ã€‚</span><button type="button" class="toggle-pinyin" data-target="pinyin2_3">ğŸ’¡</button><span class="pinyin pinyin-hidden" id="pinyin2_3">TÄ hÄ›n xÇhuan chÄ« jiÇozi hÃ© bÄozi, hÄ“ hÃ³ngchÃ¡.</span> <br>
                    <span class="hanzi">è¿™æ˜¯ç›ä¸½çš„å¼Ÿå¼Ÿ,ä»–å«éº¦å…‹,ä»–ä¸æ˜¯åœ¨ä¸­å›½ç•™å­¦,ä»–å»ä¸­å›½æ—…è¡Œã€‚</span><button type="button" class="toggle-pinyin" data-target="pinyin2_4">ğŸ’¡</button><span class="pinyin pinyin-hidden" id="pinyin2_4">ZhÃ¨ shÃ¬ MÇlÃ¬ de dÃ¬di, tÄ jiÃ o MÃ ikÃ¨, tÄ bÃº shÃ¬ zÃ i ZhÅngguÃ³ liÃºxuÃ©, tÄ qÃ¹ ZhÅngguÃ³ lÇšxÃ­ng.</span> <br>
                    <span class="hanzi">ä»–å¾ˆå–œæ¬¢ä¸­å›½çš„æ–‡åŒ–ä¸å†å²ã€‚</span><button type="button" class="toggle-pinyin" data-target="pinyin2_5">ğŸ’¡</button><span class="pinyin pinyin-hidden" id="pinyin2_5">TÄ hÄ›n xÇhuan ZhÅngguÃ³ de wÃ©nhuÃ  yÇ” lÃ¬shÇ.</span> <br>
                    <span class="hanzi">ä»–ä»¬éƒ½å¾ˆé«˜å…´è®¤è¯†ä½ ä»¬ã€‚</span><button type="button" class="toggle-pinyin" data-target="pinyin2_6">ğŸ’¡</button><span class="pinyin pinyin-hidden" id="pinyin2_6">TÄmen dÅu hÄ›n gÄoxÃ¬ng rÃ¨nshi nÇmen.</span>
                </p>
            </div>
             <div class="question">
                <p>1. <span class="hanzi">ç›ä¸½æ˜¯å“ªå›½äºº?</span> <span class="question-points">(5 Ä‘iá»ƒm)</span> <button type="button" class="toggle-pinyin" data-target="pinyin2_q1">ğŸ’¡</button><span class="pinyin pinyin-hidden" id="pinyin2_q1">MÇlÃ¬ shÃ¬ nÇ guÃ³ rÃ©n?</span></p>
                <label><input type="radio" name="q2_1" value="A"><span> A. æ³•å›½äºº (FÇguÃ³ rÃ©n)</span></label>
                <label><input type="radio" name="q2_1" value="B" data-correct="true"><span> B. ç¾å›½äºº (MÄ›iguÃ³ rÃ©n)</span></label>
                <label><input type="radio" name="q2_1" value="C"><span> C. è¶Šå—äºº (YuÃ¨nÃ¡n rÃ©n)</span></label>
                <label><input type="radio" name="q2_1" value="D"><span> D. ä¸­å›½äºº (ZhÅngguÃ³ rÃ©n)</span></label>
            </div>
             <div class="question">
                <p>2. <span class="hanzi">è°åœ¨åŒ—äº¬è¯­è¨€å¤§å­¦å­¦ä¹ æ±‰è¯­?</span> <span class="question-points">(5 Ä‘iá»ƒm)</span> <button type="button" class="toggle-pinyin" data-target="pinyin2_q2">ğŸ’¡</button><span class="pinyin pinyin-hidden" id="pinyin2_q2">ShÃ©i zÃ i BÄ›ijÄ«ng YÇ”yÃ¡n DÃ xuÃ© xuÃ©xÃ­ HÃ nyÇ”?</span></p>
                <label><input type="radio" name="q2_2" value="A"><span> A. å¼ ä¸œ (ZhÄng DÅng)</span></label>
                <label><input type="radio" name="q2_2" value="B"><span> B. éº¦å…‹ (MÃ i KÃ¨)</span></label>
                <label><input type="radio" name="q2_2" value="C" data-correct="true"><span> C. ç›ä¸½ (MÇ LÃ¬)</span></label>
                <label><input type="radio" name="q2_2" value="D"><span> D. ç”°èŠ³ (TiÃ¡n FÄng)</span></label>
            </div>
             <div class="question">
                <p>3. <span class="hanzi">ç›ä¸½å–œæ¬¢åƒä»€ä¹ˆ?</span> <span class="question-points">(5 Ä‘iá»ƒm)</span> <button type="button" class="toggle-pinyin" data-target="pinyin2_q3">ğŸ’¡</button><span class="pinyin pinyin-hidden" id="pinyin2_q3">MÇlÃ¬ xÇhuan chÄ« shÃ©nme?</span></p>
                <label><input type="radio" name="q2_3" value="A"><span> A. ç±³é¥­å’Œé¢åŒ… (mÇfÃ n hÃ© miÃ nbÄo)</span></label>
                <label><input type="radio" name="q2_3" value="B"><span> B. é¥ºå­å’Œç±³é¥­ (jiÇozi hÃ© mÇfÃ n)</span></label>
                <label><input type="radio" name="q2_3" value="C"><span> C. ç±³é¥­å’Œé¢åŒ… (mÇfÃ n hÃ© miÃ nbÄo)</span></label>
                <label><input type="radio" name="q2_3" value="D" data-correct="true"><span> D. é¥ºå­å’ŒåŒ…å­ (jiÇozi hÃ© bÄozi)</span></label>
            </div>
             <div class="question">
                <p>4. <span class="hanzi">éº¦å…‹å»ä¸­å›½åšä»€ä¹ˆ?</span> <span class="question-points">(5 Ä‘iá»ƒm)</span> <button type="button" class="toggle-pinyin" data-target="pinyin2_q4">ğŸ’¡</button><span class="pinyin pinyin-hidden" id="pinyin2_q4">MÃ ikÃ¨ qÃ¹ ZhÅngguÃ³ zuÃ² shÃ©nme?</span></p>
                <label><input type="radio" name="q2_4" value="A"><span> A. ç•™å­¦ (liÃºxuÃ©)</span></label>
                <label><input type="radio" name="q2_4" value="B"><span> B. å­¦æ±‰è¯­ (xuÃ© HÃ nyÇ”)</span></label>
                <label><input type="radio" name="q2_4" value="C" data-correct="true"><span> C. æ—…è¡Œ (lÇšxÃ­ng)</span></label>
                <label><input type="radio" name="q2_4" value="D"><span> D. æ‰¾æœ‹å‹ (zhÇo pÃ©ngyou)</span></label>
            </div>
             <div class="question">
                <p>5. <span class="hanzi">ä¸‹é¢å“ªå¥æ˜¯å¯¹çš„?</span> <span class="question-points">(5 Ä‘iá»ƒm)</span> <button type="button" class="toggle-pinyin" data-target="pinyin2_q5">ğŸ’¡</button><span class="pinyin pinyin-hidden" id="pinyin2_q5">XiÃ miÃ n nÇ jÃ¹ shÃ¬ duÃ¬ de?</span></p>
                <label><input type="radio" name="q2_5" value="A"><span> A. ç›ä¸½å–œæ¬¢å–å¥¶èŒ¶ (MÇlÃ¬ xÇhuan hÄ“ nÇichÃ¡)</span></label>
                <label><input type="radio" name="q2_5" value="B"><span> B. éº¦å…‹å–œæ¬¢åƒåŒ…å­ (MÃ ikÃ¨ xÇhuan chÄ« bÄozi)</span></label>
                <label><input type="radio" name="q2_5" value="C"><span> C. éº¦å…‹æ˜¯æˆ‘ä»¬çš„æ–°åŒå­¦ (MÃ ikÃ¨ shÃ¬ wÇ’men de xÄ«n tÃ³ngxuÃ©)</span></label>
                <label><input type="radio" name="q2_5" value="D" data-correct="true"><span> D. éº¦å…‹æ˜¯ç›ä¸½çš„å¼Ÿå¼Ÿ (MÃ ikÃ¨ shÃ¬ MÇlÃ¬ de dÃ¬di)</span></label>
            </div>
        </section>

        <section id="part3">
             <h2>Pháº§n III: Thá»­ tÃ i dá»‹ch thuáº­t nÃ o <span class="cute-icon">ğŸ—£ï¸</span><span class="section-points">Pháº§n nÃ y cháº¥m riÃªng</span></h2>
             <div class="question">
                 <p>1. <span class="hanzi">æ˜ŸæœŸä¸€ã€æ˜ŸæœŸä¸‰ã€æ˜ŸæœŸäº”,æˆ‘å’Œæœ‹å‹å»å­¦æ ¡å­¦æ±‰è¯­å’Œè‹±è¯­ã€‚</span> <button type="button" class="toggle-pinyin" data-target="pinyin3_1">ğŸ’¡</button><span class="pinyin pinyin-hidden" id="pinyin3_1">XÄ«ngqÄ« yÄ«, xÄ«ngqÄ« sÄn, xÄ«ngqÄ« wÇ”, wÇ’ hÃ© pÃ©ngyou qÃ¹ xuÃ©xiÃ o xuÃ© HÃ nyÇ” hÃ© YÄ«ngyÇ”.</span></p>
                 <textarea id="q3_1" name="q3_1" rows="2" cols="50" placeholder="Nháº­p báº£n dá»‹ch cá»§a báº¡n vÃ o Ä‘Ã¢y..."></textarea>
             </div>
              <div class="question">
                 <p>2. <span class="hanzi">ä½ çš„æ‰‹æœºå·ç æ˜¯å‡ å·?æˆ‘ç»™ä½ æ‰“ç”µè¯ã€‚å‘¨æœ«,æˆ‘ä»¬å»å’–å•¡é¦†å­¦ä¹ æ±‰è¯­å§ã€‚</span> <button type="button" class="toggle-pinyin" data-target="pinyin3_2">ğŸ’¡</button><span class="pinyin pinyin-hidden" id="pinyin3_2">NÇ de shÇ’ujÄ« hÃ omÇ shÃ¬ jÇ hÃ o? WÇ’ gÄ›i nÇ dÇ diÃ nhuÃ . ZhÅumÃ², wÇ’men qÃ¹ kÄfÄ“i guÇn xuÃ©xÃ­ HÃ nyÇ” ba.</span></p>
                 <textarea id="q3_2" name="q3_2" rows="2" cols="50" placeholder="Nháº­p báº£n dá»‹ch cá»§a báº¡n vÃ o Ä‘Ã¢y..."></textarea>
             </div>
              <div class="question">
                 <p>3. <span class="hanzi">ç‹è€å¸ˆä»Šå¤©ä¸åœ¨åŠå…¬å®¤,ä»–å›å®¶äº†ã€‚ä»–å®¶åœ¨18æ¥¼ä¸€é—¨,æˆ¿é—´å·æ˜¯101ã€‚</span> <button type="button" class="toggle-pinyin" data-target="pinyin3_3">ğŸ’¡</button><span class="pinyin pinyin-hidden" id="pinyin3_3">WÃ¡ng lÇoshÄ« jÄ«ntiÄn bÃº zÃ i bÃ ngÅngshÃ¬, tÄ huÃ­ jiÄ le. TÄ jiÄ zÃ i 18 lÃ³u yÄ« mÃ©n, fÃ¡ngjiÄn hÃ o shÃ¬ 101.</span></p>
                 <textarea id="q3_3" name="q3_3" rows="2" cols="50" placeholder="Nháº­p báº£n dá»‹ch cá»§a báº¡n vÃ o Ä‘Ã¢y..."></textarea>
             </div>
             <div class="question">
                 <p>4. <span class="hanzi">æˆ‘æœ€å–œæ¬¢åƒçš„æ°´æœæ˜¯è‹¹æœã€é¦™è•‰ã€è‰è“å’Œè¥¿ç“œã€‚æˆ‘ä¸å–œæ¬¢åƒæ¦´è²ã€‚</span> <button type="button" class="toggle-pinyin" data-target="pinyin3_4">ğŸ’¡</button><span class="pinyin pinyin-hidden" id="pinyin3_4">WÇ’ zuÃ¬ xÇhuan chÄ« de shuÇguÇ’ shÃ¬ pÃ­ngguÇ’, xiÄngjiÄo, cÇomÃ©i hÃ© xÄ«guÄ. WÇ’ bÃ¹ xÇhuan chÄ« liÃºliÃ¡n.</span></p>
                 <textarea id="q3_4" name="q3_4" rows="2" cols="50" placeholder="Nháº­p báº£n dá»‹ch cá»§a báº¡n vÃ o Ä‘Ã¢y..."></textarea>
             </div>
              <div class="question">
                 <p>5. <span class="hanzi">é©¬å…‹ä¸æ˜¯ä¸­å›½äºº,ä»–æ˜¯è‹±å›½äººã€‚ä»–å–œæ¬¢åƒé¢æ¡ã€å–é¸¡è›‹æ±¤ã€‚ä»Šå¤©ä»–å»é£Ÿå ‚ä¹°äº†ä¸¤ç¢—é¢æ¡å’Œä¸¤ç¢—æ±¤,ä¸€å…±å…«ä¸‡ä¹è¶Šå—ç›¾ã€‚</span> <button type="button" class="toggle-pinyin" data-target="pinyin3_5">ğŸ’¡</button><span class="pinyin pinyin-hidden" id="pinyin3_5">MÇkÃ¨ bÃº shÃ¬ ZhÅngguÃ³ rÃ©n, tÄ shÃ¬ YÄ«ngguÃ³ rÃ©n. TÄ xÇhuan chÄ« miÃ ntiÃ¡o, hÄ“ jÄ«dÃ n tÄng. JÄ«ntiÄn tÄ qÃ¹ shÃ­tÃ¡ng mÇi le liÇng wÇn miÃ ntiÃ¡o hÃ© liÇng wÇn tÄng, yÃ­gÃ²ng bÄ wÃ n jiÇ” qiÄn YuÃ¨nÃ¡n dÃ¹n.</span></p>
                 <textarea id="q3_5" name="q3_5" rows="3" cols="50" placeholder="Nháº­p báº£n dá»‹ch cá»§a báº¡n vÃ o Ä‘Ã¢y..."></textarea>
             </div>
        </section>

        <section id="part4A">
            <h2>Pháº§n IV-A: Láº¯ng nghe vÃ  chá»n Ä‘Ã¡p Ã¡n Ä‘Ãºng <span class="cute-icon">ğŸ§</span><span class="section-points">Tá»•ng 25 Ä‘iá»ƒm</span></h2>
            <p class="instructions">Báº¥m nÃºt Play â–¶ï¸ Ä‘á»ƒ nghe vÃ  chá»n cÃ¢u tráº£ lá»i nha!</p>
            <audio id="audioPlayer" controls src="https://res.cloudinary.com/dylnm79id/video/upload/v1745323589/nghe_Q1_11_iztnes.mp3">
                Ráº¥t tiáº¿c, trÃ¬nh duyá»‡t nÃ y khÃ´ng há»— trá»£ phÃ¡t audio trá»±c tiáº¿p hoáº·c link audio chÆ°a Ä‘Ãºng. Báº¡n hÃ£y thá»­ trÃ¬nh duyá»‡t khÃ¡c hoáº·c bÃ¡o giÃ¡o viÃªn nhÃ©!
            </audio>

            <div class="question">
                <p>1. CÃ¢u há»i 1: <span class="question-points">(5 Ä‘iá»ƒm)</span></p>
                <label><input type="radio" name="q4_1" value="A"><span> A. å»å­¦æ ¡ (qÃ¹ xuÃ©xiÃ o)</span></label>
                <label><input type="radio" name="q4_1" value="B" data-correct="true"><span> B. å»é“¶è¡Œ (qÃ¹ yÃ­nhÃ¡ng)</span></label> <label><input type="radio" name="q4_1" value="C"><span> C. å»å­¦æ ¡å’Œé“¶è¡Œ (qÃ¹ xuÃ©xiÃ o hÃ© yÃ­nhÃ¡ng)</span></label>
                <label><input type="radio" name="q4_1" value="D"><span> D. åœ¨å®¶ (zÃ ijiÄ)</span></label>
            </div>
            <div class="question">
                <p>2. CÃ¢u há»i 2: <span class="question-points">(5 Ä‘iá»ƒm)</span></p>
                <label><input type="radio" name="q4_2" value="A"><span> A. æ—¥å…ƒ (rÃ¬yuÃ¡n)</span></label>
                <label><input type="radio" name="q4_2" value="B" data-correct="true"><span> B. ç¾å…ƒ (mÄ›iyuÃ¡n)</span></label> <label><input type="radio" name="q4_2" value="C"><span> C. äººæ°‘å¸ (rÃ©nmÃ­nbÃ¬)</span></label>
                <label><input type="radio" name="q4_2" value="D"><span> D. ä»€ä¹ˆéƒ½æ²¡æœ‰ (shÃ©nme dÅu mÃ©iyÇ’u)</span></label>
            </div>
             <div class="question">
                <p>3. CÃ¢u há»i 3: <span class="question-points">(5 Ä‘iá»ƒm)</span></p>
                <label><input type="radio" name="q4_3" value="A"><span> A. 1200å…ƒäººæ°‘å¸ (1200 yuÃ¡n rÃ©nmÃ­nbÃ¬)</span></label>
                <label><input type="radio" name="q4_3" value="B"><span> B. 1100å…ƒäººæ°‘å¸ (1100 yuÃ¡n rÃ©nmÃ­nbÃ¬)</span></label>
                <label><input type="radio" name="q4_3" value="C"><span> C. 700æ¬§å…ƒ (700 ÅuyuÃ¡n)</span></label>
                <label><input type="radio" name="q4_3" value="D" data-correct="true"><span> D. 100æ¬§å…ƒ (100 ÅuyuÃ¡n)</span></label> </div>
             <div class="question">
                <p>4. CÃ¢u há»i 4: <span class="question-points">(5 Ä‘iá»ƒm)</span></p>
                <label><input type="radio" name="q4_4" value="A"><span> A. åœ¨å•†åº— (zÃ i shÄngdiÃ n)</span></label>
                <label><input type="radio" name="q4_4" value="B"><span> B. åœ¨é¥­åº— (zÃ i fÃ ndiÃ n)</span></label>
                <label><input type="radio" name="q4_4" value="C" data-correct="true"><span> C. åœ¨é“¶è¡Œ (zÃ i yÃ­nhÃ¡ng)</span></label> <label><input type="radio" name="q4_4" value="D"><span> D. åœ¨å­¦æ ¡ (zÃ i xuÃ©xiÃ o)</span></label>
            </div>
            <div class="question">
                <p>5. CÃ¢u há»i 5: <span class="question-points">(5 Ä‘iá»ƒm)</span></p>
                <label><input type="radio" name="q4_5" value="A"><span> A. å›¾ä¹¦é¦† (tÃºshÅ«guÇn)</span></label>
                <label><input type="radio" name="q4_5" value="B"><span> B. é‚®å±€ (yÃ³ujÃº)</span></label>
                <label><input type="radio" name="q4_5" value="C" data-correct="true"><span> C. é“¶è¡Œ (yÃ­nhÃ¡ng)</span></label> <label><input type="radio" name="q4_5" value="D"><span> D. å›å®¶ (huÃ­jiÄ)</span></label>
            </div>
        </section>


        <section id="submission" style="text-align: center;"> <h2>HoÃ n thÃ nh xuáº¥t sáº¯c! <span class="cute-icon">ğŸ‰</span></h2>
            <div id="results" style="display: none; text-align: left;"> <h3>Káº¿t quáº£ cá»§a báº¡n nÃ¨:</h3>
                <p>âœ… Pháº§n I (Äiá»n tá»«): <span class="score-display" id="scorePart1">0</span> / 25 Ä‘iá»ƒm</p>
                <p>âœ… Pháº§n II (Äá»c hiá»ƒu): <span class="score-display" id="scorePart2">0</span> / 25 Ä‘iá»ƒm</p>
                <p>âœ… Pháº§n IV-A (Nghe hiá»ƒu): <span class="score-display" id="scorePart4A">0</span> / 25 Ä‘iá»ƒm</p>
                <hr>
                <p><strong>ğŸ† Tá»•ng Ä‘iá»ƒm (pháº§n tá»± Ä‘á»™ng cháº¥m): <span class="score-display" id="totalScore">0</span> / 75 Ä‘iá»ƒm</strong></p>
                <p><i>(ğŸ“ Pháº§n III dá»‹ch thuáº­t sáº½ Ä‘Æ°á»£c giÃ¡o viÃªn cháº¥m riÃªng nha)</i></p>
            </div>
            <div id="googleFormReminder" style="display: none;">
                ğŸš¨ Báº¡n Æ¡i! Nhá»› áº¥n nÃºt "Ná»™p Káº¿t Quáº£ LÃªn Google Form" Ä‘á»ƒ lÆ°u bÃ i lÃ m nhÃ©! ğŸš¨
            </div>
            <button type="button" id="submitBtn"><span class="cute-icon">ğŸ’¯</span> Cháº¥m Ä‘iá»ƒm & Hiá»‡n nÃºt Ná»™p Form</button>
            <br> <button type="button" id="googleFormBtn" style="display: none;"><span class="cute-icon">ğŸš€</span> Ná»™p Káº¿t Quáº£ LÃªn Google Form <span class="spinner" style="display: none;"></span></button>
        </section>
    </form>
</div> <script>
        // --- JAVASCRIPT START ---
        document.addEventListener('DOMContentLoaded', () => {
            // Láº¥y cÃ¡c element cáº§n thiáº¿t
            const timeElement = document.getElementById('time');
            const toggleButtons = document.querySelectorAll('.toggle-pinyin');
            const submitBtn = document.getElementById('submitBtn');
            const googleFormBtn = document.getElementById('googleFormBtn');
            const quizForm = document.getElementById('quizForm');
            const resultsDiv = document.getElementById('results');
            const scorePart1Span = document.getElementById('scorePart1');
            const scorePart2Span = document.getElementById('scorePart2');
            const scorePart4ASpan = document.getElementById('scorePart4A');
            const totalScoreSpan = document.getElementById('totalScore');
            const studentNameInput = document.getElementById('studentName');
            const googleFormReminder = document.getElementById('googleFormReminder');
            const audioPlayer = document.getElementById('audioPlayer');
            const spinner = googleFormBtn.querySelector('.spinner');

            let timerInterval;
            let seconds = 0;
            let quizSubmitted = false;

            // --- Äiá»ƒm cho má»—i cÃ¢u ---
            const pointsPerQPart1 = 25 / 6; // ~4.17 points
            const pointsPerQPart2 = 5;      // 5 points
            const pointsPerQPart4A = 5;     // 5 points

            // --- Bá»™ Ä‘áº¿m thá»i gian ---
            function startTimer() {
                if (timerInterval) clearInterval(timerInterval);
                timerInterval = setInterval(() => {
                    seconds++;
                    const minutes = Math.floor(seconds / 60);
                    const remainingSeconds = seconds % 60;
                    timeElement.textContent =
                        `${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;
                }, 1000);
            }

            // --- Chá»©c nÄƒng áº©n/hiá»‡n Pinyin ---
            toggleButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetId = button.getAttribute('data-target');
                    const pinyinElement = document.getElementById(targetId);
                    if (pinyinElement) pinyinElement.classList.toggle('pinyin-hidden');
                });
            });

             // --- HÃ m Ä‘Ã¡nh dáº¥u Ä‘Ãºng/sai cho input/label ---
            function markInputCorrectness(inputElement, isCorrect) {
                 inputElement.classList.remove('correct-answer', 'wrong-answer');
                 inputElement.style.backgroundColor = ''; // Reset background
                 if (isCorrect) {
                     inputElement.classList.add('correct-answer');
                     inputElement.style.backgroundColor = '#d1e7dd';
                 } else {
                     inputElement.classList.add('wrong-answer');
                     inputElement.style.backgroundColor = '#f8d7da';
                 }
            }
            function markChoiceCorrectness(selectedLabel, correctLabel) {
                const groupName = selectedLabel?.querySelector('input')?.name || correctLabel?.querySelector('input')?.name;
                 if (groupName) {
                     document.querySelectorAll(`input[name="${groupName}"]`).forEach(radio => {
                         radio.parentElement.classList.remove('correct-choice-label', 'wrong-choice-label');
                     });
                 }
                 if (correctLabel) correctLabel.classList.add('correct-choice-label');
                 if (selectedLabel && selectedLabel !== correctLabel) selectedLabel.classList.add('wrong-choice-label');
            }

            // --- Chá»©c nÄƒng cháº¥m Ä‘iá»ƒm tá»± Ä‘á»™ng ---
            function calculateScore() {
                let score1_raw = 0, score2_raw = 0, score4A_raw = 0;

                // Cháº¥m Pháº§n I (Ä‘áº¿m sá»‘ cÃ¢u Ä‘Ãºng)
                document.querySelectorAll('#part1 input[type="text"]').forEach(input => {
                    const isCorrect = input.value.trim().toLowerCase() === input.getAttribute('data-answer').toLowerCase();
                     if (input.value.trim() !== '') {
                        markInputCorrectness(input, isCorrect);
                         if (isCorrect) score1_raw++;
                     } else {
                         input.style.backgroundColor = '';
                         input.classList.remove('correct-answer', 'wrong-answer');
                     }
                });

                // Cháº¥m Pháº§n II (Ä‘áº¿m sá»‘ cÃ¢u Ä‘Ãºng)
                document.querySelectorAll('#part2 .question').forEach((question, index) => {
                     const name = `q2_${index+1}`;
                     const selectedOption = question.querySelector(`input[name="${name}"]:checked`);
                     const correctOption = question.querySelector(`input[name="${name}"][data-correct="true"]`);
                     markChoiceCorrectness(selectedOption?.parentElement, correctOption?.parentElement);
                     if (selectedOption && selectedOption.getAttribute('data-correct') === 'true') {
                         score2_raw++;
                     }
                 });

                // Cháº¥m Pháº§n IV-A (Ä‘áº¿m sá»‘ cÃ¢u Ä‘Ãºng)
                document.querySelectorAll('#part4A .question').forEach((question, index) => {
                     const name = `q4_${index+1}`;
                     const selectedOption = question.querySelector(`input[name="${name}"]:checked`);
                     const correctOption = question.querySelector(`input[name="${name}"][data-correct="true"]`);
                     markChoiceCorrectness(selectedOption?.parentElement, correctOption?.parentElement);
                     if (selectedOption && selectedOption.getAttribute('data-correct') === 'true') {
                         score4A_raw++;
                     }
                 });

                // TÃ­nh Ä‘iá»ƒm cuá»‘i cÃ¹ng theo thang 25 cho má»—i pháº§n
                let finalScore1 = (score1_raw * pointsPerQPart1);
                let finalScore2 = score2_raw * pointsPerQPart2;
                let finalScore4A = score4A_raw * pointsPerQPart4A;
                let finalTotalScore = finalScore1 + finalScore2 + finalScore4A;


                // Hiá»ƒn thá»‹ Ä‘iá»ƒm (lÃ m trÃ²n Ä‘áº¿n 1 chá»¯ sá»‘ tháº­p phÃ¢n)
                scorePart1Span.textContent = finalScore1.toFixed(1);
                scorePart2Span.textContent = finalScore2.toFixed(1);
                scorePart4ASpan.textContent = finalScore4A.toFixed(1);
                totalScoreSpan.textContent = finalTotalScore.toFixed(1);
                resultsDiv.style.display = 'block';
            }

            // --- Xá»­ lÃ½ khi nháº¥n nÃºt "Cháº¥m Ä‘iá»ƒm" ---
            submitBtn.addEventListener('click', () => {
                if (quizSubmitted) return;

                const studentName = studentNameInput.value.trim();
                if (studentName === '') {
                    alert('Báº¡n Æ¡i, nháº­p tÃªn cá»§a mÃ¬nh vÃ o trÆ°á»›c nhÃ©! ğŸ˜‰');
                    studentNameInput.focus();
                    studentNameInput.style.borderColor = 'red';
                    return;
                }
                studentNameInput.style.borderColor = '#ced4da';

                clearInterval(timerInterval);
                calculateScore(); // TÃ­nh vÃ  hiá»ƒn thá»‹ Ä‘iá»ƒm
                submitBtn.disabled = true;
                submitBtn.innerHTML = '<span class="cute-icon">âœ…</span> ÄÃ£ cháº¥m Ä‘iá»ƒm!';
                googleFormReminder.style.display = 'block';
                googleFormBtn.style.display = 'inline-block';

                // VÃ´ hiá»‡u hÃ³a cÃ¡c input, textarea, button pinyin, audio
                quizForm.querySelectorAll('input, textarea').forEach(el => {
                    if (el.id !== 'studentName') el.disabled = true;
                });
                toggleButtons.forEach(button => button.disabled = true);
                if (audioPlayer) {
                    audioPlayer.pause();
                }
            });

            // --- Xá»­ lÃ½ khi nháº¥n nÃºt "Ná»™p Káº¿t Quáº£ LÃªn Google Form" ---
            googleFormBtn.addEventListener('click', async () => {
                if (quizSubmitted) return;

                 googleFormBtn.disabled = true;
                 spinner.style.display = 'inline-block';
                 googleFormBtn.childNodes[0].nodeValue = 'Äang gá»­i... ';


                // Thu tháº­p dá»¯ liá»‡u
                const studentName = studentNameInput.value.trim();
                // Láº¥y Ä‘iá»ƒm Ä‘Ã£ tÃ­nh (cÃ³ thá»ƒ lÃ m trÃ²n hoáº·c khÃ´ng tÃ¹y báº¡n muá»‘n gá»­i Ä‘i tháº¿ nÃ o)
                const score1 = parseFloat(scorePart1Span.textContent);
                const score2 = parseFloat(scorePart2Span.textContent);
                const score4A = parseFloat(scorePart4ASpan.textContent);
                const totalScore = parseFloat(totalScoreSpan.textContent);
                const timeTaken = timeElement.textContent;

                const answersPart1 = {}, answersPart2 = {}, answersPart3 = {}, answersPart4A = {};

                document.querySelectorAll('#part1 input[type="text"]').forEach(input => { answersPart1[input.id] = input.value.trim(); });
                document.querySelectorAll('#part2 input[type="radio"]').forEach(radio => { if (radio.checked) answersPart2[radio.name] = radio.value; });
                document.querySelectorAll('#part3 textarea').forEach(textarea => { answersPart3[textarea.id] = textarea.value.trim(); });
                document.querySelectorAll('#part4A input[type="radio"]').forEach(radio => { if (radio.checked) answersPart4A[radio.name] = radio.value; });

                // Xá»­ lÃ½ cÃ¢u chÆ°a tráº£ lá»i tráº¯c nghiá»‡m
                ["q2_1", "q2_2", "q2_3", "q2_4", "q2_5"].forEach(name => { if (!answersPart2[name]) answersPart2[name] = "ChÆ°a tráº£ lá»i"; });
                ["q4_1", "q4_2", "q4_3", "q4_4", "q4_5"].forEach(name => { if (!answersPart4A[name]) answersPart4A[name] = "ChÆ°a tráº£ lá»i"; });


                // --- Cáº¬P NHáº¬T GOOGLE FORM URL VÃ€ ENTRY IDs ---
                const googleFormURL = "https://docs.google.com/forms/u/0/d/e/1FAIpQLSf6mAcWKwF_m6sR4ryOYTEcsKIpls65bfo3dH3dJLhcUX92RA/formResponse";
                const entry_studentName = "entry.1184020286"; // há» tÃªn há»c viÃªn
                const entry_time        = "entry.862194018";  // thá»i gian lÃ m bÃ i
                const entry_score1      = "entry.274212057";  // Äiá»ƒm pháº§n 1
                const entry_score2      = "entry.780880786";  // Äiá»ƒm pháº§n 2
                const entry_score4A     = "entry.871166809";  // Äiá»ƒm pháº§n 4
                const entry_totalScore  = "entry.1244463908"; // Tá»•ng Ä‘iá»ƒm (chÆ°a tÃ­nh pháº§n 3)
                const entry_q1_1 = "entry.216628170"; const entry_q1_2 = "entry.177368996"; const entry_q1_3 = "entry.694509259"; const entry_q1_4 = "entry.989213095"; const entry_q1_5 = "entry.1391839935"; const entry_q1_6 = "entry.1345612015";
                const entry_q2_1 = "entry.988466836"; const entry_q2_2 = "entry.474337359"; const entry_q2_3 = "entry.670903786"; const entry_q2_4 = "entry.1640906194"; const entry_q2_5 = "entry.814796580";
                const entry_q3_1 = "entry.1455569591"; const entry_q3_2 = "entry.1833874550"; const entry_q3_3 = "entry.108817839"; const entry_q3_4 = "entry.1315249645"; const entry_q3_5 = "entry.59100414";
                const entry_q4_1 = "entry.434360502"; const entry_q4_2 = "entry.565386669"; const entry_q4_3 = "entry.889003072"; const entry_q4_4 = "entry.1855874281"; const entry_q4_5 = "entry.827165656";
                // ---------------------------------------------------------------------

                const formData = new FormData();
                // Add data to FormData
                formData.append(entry_studentName, studentName);
                formData.append(entry_time, timeTaken);
                formData.append(entry_score1, score1.toFixed(2)); // Gá»­i Ä‘iá»ƒm lÃ m trÃ²n 2 chá»¯ sá»‘
                formData.append(entry_score2, score2.toFixed(2));
                formData.append(entry_score4A, score4A.toFixed(2));
                formData.append(entry_totalScore, totalScore.toFixed(2));
                // Add detailed answers
                formData.append(entry_q1_1, answersPart1['q1_1'] || ''); formData.append(entry_q1_2, answersPart1['q1_2'] || ''); formData.append(entry_q1_3, answersPart1['q1_3'] || ''); formData.append(entry_q1_4, answersPart1['q1_4'] || ''); formData.append(entry_q1_5, answersPart1['q1_5'] || ''); formData.append(entry_q1_6, answersPart1['q1_6'] || '');
                formData.append(entry_q2_1, answersPart2['q2_1']); formData.append(entry_q2_2, answersPart2['q2_2']); formData.append(entry_q2_3, answersPart2['q2_3']); formData.append(entry_q2_4, answersPart2['q2_4']); formData.append(entry_q2_5, answersPart2['q2_5']);
                formData.append(entry_q3_1, answersPart3['q3_1'] || ''); formData.append(entry_q3_2, answersPart3['q3_2'] || ''); formData.append(entry_q3_3, answersPart3['q3_3'] || ''); formData.append(entry_q3_4, answersPart3['q3_4'] || ''); formData.append(entry_q3_5, answersPart3['q3_5'] || '');
                formData.append(entry_q4_1, answersPart4A['q4_1']); formData.append(entry_q4_2, answersPart4A['q4_2']); formData.append(entry_q4_3, answersPart4A['q4_3']); formData.append(entry_q4_4, answersPart4A['q4_4']); formData.append(entry_q4_5, answersPart4A['q4_5']);


                // Gá»­i dá»¯ liá»‡u áº©n Ä‘i
                try {
                    await fetch(googleFormURL, {
                        method: 'POST',
                        mode: 'no-cors',
                        body: formData
                    });
                    spinner.style.display = 'none';
                    googleFormBtn.innerHTML = '<span class="cute-icon">ğŸ’–</span> ÄÃ£ Ná»™p ThÃ nh CÃ´ng!';
                    quizSubmitted = true;
                    googleFormReminder.style.display = 'none';
                    alert(`Tuyá»‡t vá»i ${studentName}! BÃ i cá»§a báº¡n Ä‘Ã£ Ä‘Æ°á»£c gá»­i Ä‘i thÃ nh cÃ´ng! Giá» thÃ¬ chá» káº¿t quáº£ cuá»‘i cÃ¹ng tá»« giÃ¡o viÃªn nhÃ©! ğŸ¥³`);

                } catch (error) {
                    console.error('Lá»—i khi gá»­i Google Form:', error);
                     spinner.style.display = 'none';
                     googleFormBtn.disabled = false;
                     googleFormBtn.innerHTML = '<span class="cute-icon">ğŸ˜¥</span> Thá»­ Ná»™p Láº¡i';
                    alert('Oops! CÃ³ lá»—i xáº£y ra khi gá»­i bÃ i. Báº¡n kiá»ƒm tra láº¡i máº¡ng rá»“i thá»­ láº¡i hoáº·c bÃ¡o giÃ¡o viÃªn nhÃ©!');
                }
            });

            // Báº¯t Ä‘áº§u Ä‘áº¿m giá»
            startTimer();
        });
        // --- JAVASCRIPT END ---
    </script>

</body>
</html>