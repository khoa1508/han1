<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TrÃ² ChÆ¡i Ã”n Táº­p Tiáº¿ng Trung</title>

    <style>
        body {
            font-family: sans-serif;
            line-height: 1.6;
            margin: 20px;
            background-color: #f4f4f4;
            color: #333;
            display: flex;
            justify-content: center;
            align-items: flex-start; /* Align items to the top */
            min-height: 100vh;
        }

        #game-container {
            background-color: #fff;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            max-width: 600px;
            width: 100%;
            text-align: center;
        }

        h1, h2 {
            color: #0056b3; /* Darker blue */
            margin-bottom: 15px;
        }

        #welcome-screen ul {
            list-style: none;
            padding: 0;
            text-align: left;
            display: inline-block; /* Center the list block */
            margin-bottom: 20px;
        }

        #welcome-screen li {
            margin-bottom: 8px;
        }

        #welcome-screen b {
            color: #007bff; /* Brighter blue */
        }


        button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 18px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            margin: 10px 5px;
            transition: background-color 0.3s ease;
        }

        button:hover {
            background-color: #0056b3;
        }

        #hint-button {
            background-color: #ffc107; /* Yellow for hint */
            color: #333;
        }

        #hint-button:hover {
            background-color: #e0a800;
        }

        #restart-button {
            background-color: #28a745; /* Green for restart */
        }
        #restart-button:hover {
            background-color: #218838;
        }


        input[type="text"] {
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            margin: 10px 0;
            width: calc(100% - 22px); /* Adjust width considering padding */
            font-size: 1em;
        }

        #vocab-image {
            max-width: 250px; /* Limit image size */
            max-height: 200px;
            height: auto;
            margin: 15px auto; /* Center image */
            display: block;
            border: 1px solid #eee;
            border-radius: 4px;
        }

        #pinyin-display, #scrambled-sentence {
            font-size: 1.2em;
            font-weight: bold;
            margin: 10px 0;
            color: #555;
        }

        #scrambled-sentence {
            background-color: #e9ecef;
            padding: 10px;
            border-radius: 4px;
            font-family: monospace; /* Makes slashes clearer */
        }


        p#feedback-part1, p#feedback-part2 {
            margin-top: 10px;
            font-weight: bold;
        }

        p#attempts-left {
            color: #dc3545; /* Red for attempts */
            font-size: 0.9em;
        }

        p#hint-display {
            margin-top: 10px;
            color: #17a2b8; /* Teal for hint text */
            background-color: #e2f6f8;
            padding: 8px;
            border-radius: 4px;
            font-style: italic;
        }

        /* Feedback colors */
        .correct {
            color: #28a745; /* Green */
        }

        .incorrect {
            color: #dc3545; /* Red */
        }

        .info {
            color: #0056b3; /* Blue for info like correct answer */
        }

        .hidden {
            display: none;
        }

        /* Summary Table */
        table {
            width: 100%;
            margin-top: 20px;
            border-collapse: collapse;
        }

        th, td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: left;
        }

        th {
            background-color: #007bff;
            color: white;
            text-align: center;
        }

        tbody tr:nth-child(odd) {
            background-color: #f2f2f2;
        }
    </style>
    </head>
<body>

    <div id="game-container">
        <h1>TrÃ² ChÆ¡i Ã”n Táº­p Tiáº¿ng Trung ğŸ‡¨ğŸ‡³</h1>

        <div id="welcome-screen">
            <p>ChÃ o má»«ng báº¡n! TrÃ² chÆ¡i gá»“m 2 pháº§n:</p>
            <ul>
                <li><b>Pháº§n 1:</b> Äiá»n chá»¯ HÃ¡n dá»±a vÃ o hÃ¬nh áº£nh vÃ  Pinyin (3 láº§n Ä‘oÃ¡n sai).</li>
                <li><b>Pháº§n 2:</b> Sáº¯p xáº¿p láº¡i cÃ¢u tiáº¿ng Trung bá»‹ Ä‘áº£o lá»™n.</li>
            </ul>
            <button id="start-button">Báº¯t Äáº§u!</button>
        </div>

        <div id="part1-area" class="hidden">
            <h2>Pháº§n 1: Ã”n Táº­p Tá»« Vá»±ng</h2>
            <p id="vocab-counter"></p>
            <img id="vocab-image" src="" alt="HÃ¬nh áº£nh tá»« vá»±ng">
            <p><b>Pinyin:</b> <span id="pinyin-display"></span></p>
            <label for="hanzi-input">Nháº­p chá»¯ HÃ¡n:</label>
            <input type="text" id="hanzi-input" autocomplete="off">
            <button id="submit-part1">Kiá»ƒm Tra</button>
            <p id="feedback-part1"></p>
            <p id="attempts-left"></p>
        </div>

        <div id="part2-area" class="hidden">
            <h2>Pháº§n 2: Sáº¯p Xáº¿p CÃ¢u</h2>
            <p id="sentence-counter"></p>
            <p><b>CÃ¡c cá»¥m tá»« bá»‹ Ä‘áº£o lá»™n:</b></p>
            <p id="scrambled-sentence"></p>
            <label for="sentence-input">Nháº­p cÃ¢u Ä‘Ãºng:</label>
            <input type="text" id="sentence-input" autocomplete="off">
            <button id="submit-part2">Kiá»ƒm Tra</button>
            <button id="hint-button">Gá»£i Ã</button>
            <p id="feedback-part2"></p>
            <p id="hint-display"></p>
        </div>

        <div id="summary-area" class="hidden">
            <h2>ğŸ“Š Tá»•ng Káº¿t TrÃ² ChÆ¡i ğŸ“Š</h2>
            <table>
                <thead>
                    <tr>
                        <th>Pháº§n chÆ¡i</th>
                        <th>Ná»™i dung</th>
                        <th>Sá»‘ lÆ°á»£ng</th>
                        <th>Sá»‘ cÃ¢u/tá»« Ä‘Ãºng</th>
                        <th>Ghi chÃº</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Pháº§n 1</td>
                        <td>Ã”n táº­p Tá»« vá»±ng</td>
                        <td id="summary-p1-total"></td>
                        <td id="summary-p1-correct"></td>
                        <td id="summary-p1-notes"></td>
                    </tr>
                    <tr>
                        <td>Pháº§n 2</td>
                        <td>Sáº¯p xáº¿p cÃ¢u</td>
                        <td id="summary-p2-total"></td>
                        <td id="summary-p2-correct"></td>
                        <td id="summary-p2-notes"></td>
                    </tr>
                </tbody>
            </table>
            <button id="restart-button">ChÆ¡i Láº¡i</button>
        </div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Data ---
            const vocabData = [
                { hanzi: 'ä»Šå¤©', pinyin: 'JÄ«ntiÄn', image: 'https://images.freeimages.com/images/premium/previews/2162/21624660-yesterday-today-tomorrow.jpg' },
                { hanzi: 'æ˜¨å¤©', pinyin: 'ZuÃ³tiÄn', image: 'https://yt3.googleusercontent.com/d5QFuiVHizL1fDvvPIM_tIn7u0DPGgCKxHVdCe1KDkifeipdBY-XQZWR1vt9JE9DjhEeXs10Gw=s160-c-k-c0x00ffffff-no-rj' }, // Note: This image link might not work reliably
                { hanzi: 'æ˜ŸæœŸä¸€', pinyin: 'XÄ«ngqÄ«yÄ«', image: 'https://cdnphoto.dantri.com.vn/Mysr7DDc5QZQI99_7zzg662QUy0=/zoom/1200_630/WZKQ2cccccccccccckCc0AfnZ0zh4c/Image/2015/03/9591655084_3064086f33_z-68951.jpg' },
                { hanzi: 'æ˜ŸæœŸäºŒ', pinyin: 'XÄ«ngqÄ«Ã¨r', image: 'https://gcs.tripi.vn/public-tripi/tripi-feed/img/474061TqH/hinh-anh-chao-ngay-moi-thu-3-dep-va-y-nghia_042035629.jpg' },
                { hanzi: 'æ˜ŸæœŸä¸‰', pinyin: 'XÄ«ngqÄ«sÄn', image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQv-6IAfmalMNjwtM-JfQga0CvMQPL7CIecNA&s' },
                { hanzi: 'æ˜ŸæœŸå››', pinyin: 'XÄ«ngqÄ«sÃ¬', image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSKGhrON1V8FGSqEukuTg3P2rLm4ErfHFVxKw&s' },
                { hanzi: 'æ˜ŸæœŸäº”', pinyin: 'XÄ«ngqÄ«wÇ”', image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTTW0sAZkgMCAJ3mUUmuBlbF9W1p33KfhtCxQ&s' },
                { hanzi: 'æ˜ŸæœŸå…­', pinyin: 'XÄ«ngqÄ«liÃ¹', image: 'https://img.docnhanh.vn/images/fullsize/2018/09/08/thu-bay.jpg' },
                { hanzi: 'æ˜ŸæœŸå¤©', pinyin: 'XÄ«ngqÄ«tiÄn', image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSNdtBodS50TwYRtPcxFivhJJvX08hmeM8GFA&s' },
                { hanzi: 'å‡ ', pinyin: 'JÇ', image: 'https://i.ytimg.com/vi/h6WByypwsT0/maxresdefault.jpg' },
                { hanzi: 'å“ªå„¿', pinyin: 'NÇr', image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ3dLBlJX1_KHSCkxRoKrQ6bR5tO69fLGsMeg&s' },
                { hanzi: 'é‚£å„¿', pinyin: 'NÃ r', image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSGM3HNlbD4iBxP2MiHWz0WfoqFlohXGQwUDw&s' },
                { hanzi: 'å›å®¶', pinyin: 'HuÃ­jiÄ', image: 'https://pic2.sucaisucai.com/02/77/02077572_2.jpg' },
                { hanzi: 'å­¦æ ¡', pinyin: 'XuÃ©xiÃ o', image: 'https://bpic.588ku.com/element_pic/23/04/24/c9841d3d5771d4156bdff8bee4a2630d.png!/fw/350/quality/99/unsharp/true/compress/true' },
                { hanzi: 'å†è§', pinyin: 'ZÃ ijiÃ n', image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSKR5JyjiD2v02G5gMr427zyT_y_RCwRvwpFQ&s' },
                { hanzi: 'å¯¹ä¸èµ·', pinyin: 'DuÃ¬bÃ¹qÇ', image: 'https://bpic.588ku.com/element_pic/23/04/24/50ea1c0770c926c7e350e91db598c363.png!/fw/350/quality/99/unsharp/true/compress/true' }
            ];

            const sentenceData = [
                { correct: 'æˆ‘ä»Šå¤©å»é“¶è¡Œå–é’±', pinyin: 'WÇ’ jÄ«ntiÄn qÃ¹ yÃ­nhÃ¡ng qÇ” qiÃ¡n', scrambled: 'é’±å– / é“¶è¡Œ / å» / ä»Šå¤© / æˆ‘', translation: 'TÃ´i hÃ´m nay Ä‘i ngÃ¢n hÃ ng rÃºt tiá»n' },
                { correct: 'ä½ ä»¬å»å“ªå„¿ï¼Ÿ', pinyin: 'NÇmen qÃ¹ nÇr?', scrambled: 'å“ªå„¿ / å» / ä½ ä»¬ï¼Ÿ', translation: 'CÃ¡c báº¡n Ä‘i Ä‘Ã¢u?' },
                { correct: 'ä»Šå¤©æ˜ŸæœŸå‡ ï¼Ÿ', pinyin: 'JÄ«ntiÄn xÄ«ngqÄ« jÇ?', scrambled: 'æ˜ŸæœŸå‡  / ä»Šå¤©ï¼Ÿ', translation: 'HÃ´m nay lÃ  thá»© máº¥y?' },
                { correct: 'ä½ å‡ å²ï¼Ÿ', pinyin: 'NÇ jÇ suÃ¬?', scrambled: 'å² / å‡  / ä½ ï¼Ÿ', translation: 'Báº¡n bao nhiÃªu tuá»•i?' },
                { correct: 'ä½ å¤šå¤§ï¼Ÿ', pinyin: 'NÇ duÅ dÃ ?', scrambled: 'å¤šå¤§ / ä½ ï¼Ÿ', translation: 'Báº¡n bao nhiÃªu tuá»•i?' },
                { correct: 'æ˜å¤©å¦ˆå¦ˆå»ä¸Šæµ·', pinyin: 'MÃ­ngtiÄn mÄma qÃ¹ ShÃ nghÇi', scrambled: 'ä¸Šæµ· / å» / å¦ˆå¦ˆ / æ˜å¤©', translation: 'NgÃ y mai máº¹ Ä‘i Ä‘áº¿n ThÆ°á»£ng Háº£i' },
                { correct: 'æˆ‘å“¥å“¥ä»Šå¤©å›å­¦æ ¡', pinyin: 'WÇ’ gÄ“ge jÄ«ntiÄn huÃ­ xuÃ©xiÃ o', scrambled: 'å­¦æ ¡ / å› / ä»Šå¤© / æˆ‘å“¥å“¥', translation: 'Anh trai tÃ´i hÃ´m nay trá»Ÿ láº¡i trÆ°á»ng' }
            ];

            // --- DOM Elements ---
            const welcomeScreen = document.getElementById('welcome-screen');
            const startButton = document.getElementById('start-button');
            const restartButton = document.getElementById('restart-button');

            const part1Area = document.getElementById('part1-area');
            const vocabCounter = document.getElementById('vocab-counter');
            const vocabImage = document.getElementById('vocab-image');
            const pinyinDisplay = document.getElementById('pinyin-display');
            const hanziInput = document.getElementById('hanzi-input');
            const submitPart1 = document.getElementById('submit-part1');
            const feedbackPart1 = document.getElementById('feedback-part1');
            const attemptsLeftDisplay = document.getElementById('attempts-left');

            const part2Area = document.getElementById('part2-area');
            const sentenceCounter = document.getElementById('sentence-counter');
            const scrambledSentence = document.getElementById('scrambled-sentence');
            const sentenceInput = document.getElementById('sentence-input');
            const submitPart2 = document.getElementById('submit-part2');
            const hintButton = document.getElementById('hint-button');
            const feedbackPart2 = document.getElementById('feedback-part2');
            const hintDisplay = document.getElementById('hint-display');

            const summaryArea = document.getElementById('summary-area');
            const summaryP1Total = document.getElementById('summary-p1-total');
            const summaryP1Correct = document.getElementById('summary-p1-correct');
            const summaryP1Notes = document.getElementById('summary-p1-notes');
            const summaryP2Total = document.getElementById('summary-p2-total');
            const summaryP2Correct = document.getElementById('summary-p2-correct');
            const summaryP2Notes = document.getElementById('summary-p2-notes');

            // --- Game State ---
            let currentPart = 0; // 0: Welcome, 1: Vocab, 2: Sentence, 3: Summary
            let currentWordIndex = 0;
            let currentSentenceIndex = 0;
            let attemptsLeft = 3;
            let scorePart1 = 0;
            let scorePart2 = 0;
            let part1CorrectFirstTry = 0; // Track correct on first attempt for Part 1
            let part1Revealed = 0; // Track answers revealed after 3 fails
            let hintsUsed = 0;
            let shuffledVocab = [];
            let shuffledSentences = [];

            // --- Utility Functions ---
            function shuffleArray(array) {
                // Simple Fisher-Yates shuffle
                let currentIndex = array.length, randomIndex;
                while (currentIndex !== 0) {
                    randomIndex = Math.floor(Math.random() * currentIndex);
                    currentIndex--;
                    [array[currentIndex], array[randomIndex]] = [array[randomIndex], array[currentIndex]];
                }
                return array;
            }


            function hideAllSections() {
                welcomeScreen.classList.add('hidden');
                part1Area.classList.add('hidden');
                part2Area.classList.add('hidden');
                summaryArea.classList.add('hidden');
            }

            function updateFeedback(element, message, type) {
                element.innerHTML = message.replace(/\n/g, '<br>'); // Replace newline chars with <br> for HTML display
                element.className = type; // 'correct', 'incorrect', 'info'
            }

            // --- Game Logic Functions ---

            function startGame() {
                // Reset state
                currentPart = 1;
                currentWordIndex = 0;
                currentSentenceIndex = 0;
                scorePart1 = 0;
                scorePart2 = 0;
                part1CorrectFirstTry = 0;
                part1Revealed = 0;
                hintsUsed = 0;

                // Shuffle data for variety
                shuffledVocab = shuffleArray([...vocabData]);
                shuffledSentences = shuffleArray([...sentenceData]);

                hideAllSections();
                part1Area.classList.remove('hidden');
                loadVocabQuestion();
            }

            function loadVocabQuestion() {
                if (currentWordIndex >= shuffledVocab.length) {
                    startPart2(); // Move to part 2 if vocab is done
                    return;
                }

                const currentWord = shuffledVocab[currentWordIndex];
                vocabCounter.textContent = `Tá»« ${currentWordIndex + 1} / ${shuffledVocab.length}`;
                vocabImage.src = currentWord.image;
                vocabImage.alt = `HÃ¬nh áº£nh cho ${currentWord.pinyin}`; // Better alt text
                pinyinDisplay.textContent = currentWord.pinyin;
                hanziInput.value = '';
                feedbackPart1.textContent = '';
                feedbackPart1.className = '';
                attemptsLeft = 3;
                attemptsLeftDisplay.textContent = `Sá»‘ láº§n thá»­ cÃ²n láº¡i: ${attemptsLeft}`;
                hanziInput.focus(); // Focus input for convenience
                hanziInput.disabled = false;
                submitPart1.disabled = false;
            }

            function checkVocabAnswer() {
                const userAnswer = hanziInput.value.trim();
                const correctAnswer = shuffledVocab[currentWordIndex].hanzi;

                if (!userAnswer) return; // Do nothing if input is empty

                if (userAnswer === correctAnswer) {
                    updateFeedback(feedbackPart1, 'ChÃ­nh xÃ¡c! ğŸ‘', 'correct');
                    // Only increment score once per word
                    if (hanziInput.disabled === false) { // Check if it wasn't already answered correctly
                       scorePart1++;
                        if (attemptsLeft === 3) { // Count if correct on the very first try
                            part1CorrectFirstTry++;
                        }
                    }

                    hanziInput.disabled = true; // Disable input after correct answer
                    submitPart1.disabled = true; // Disable button
                    setTimeout(() => { // Wait a moment before next question
                        currentWordIndex++;
                        loadVocabQuestion();
                    }, 1200);
                } else {
                    attemptsLeft--;
                    attemptsLeftDisplay.textContent = `Sá»‘ láº§n thá»­ cÃ²n láº¡i: ${attemptsLeft}`;
                    if (attemptsLeft > 0) {
                        updateFeedback(feedbackPart1, `Sai rá»“i, thá»­ láº¡i nhÃ©.`, 'incorrect');
                        hanziInput.select(); // Select text for easy retyping
                    } else {
                        part1Revealed++; // Count revealed answers
                        updateFeedback(feedbackPart1, `Háº¿t lÆ°á»£t rá»“i! ÄÃ¡p Ã¡n Ä‘Ãºng lÃ : ${correctAnswer}`, 'info');
                        hanziInput.disabled = true; // Disable input after failing
                        submitPart1.disabled = true; // Disable button
                        attemptsLeftDisplay.textContent = 'Sá»‘ láº§n thá»­ cÃ²n láº¡i: 0';
                        setTimeout(() => { // Wait a moment before next question
                            currentWordIndex++;
                            loadVocabQuestion();
                        }, 2000); // Longer delay to read the answer
                    }
                }
            }

            function startPart2() {
                currentPart = 2;
                hideAllSections();
                part2Area.classList.remove('hidden');
                loadSentenceQuestion();
            }

            function loadSentenceQuestion() {
                if (currentSentenceIndex >= shuffledSentences.length) {
                    showSummary(); // Move to summary if sentences are done
                    return;
                }
                const currentSentence = shuffledSentences[currentSentenceIndex];
                sentenceCounter.textContent = `CÃ¢u ${currentSentenceIndex + 1} / ${shuffledSentences.length}`;
                scrambledSentence.textContent = currentSentence.scrambled;
                sentenceInput.value = '';
                feedbackPart2.textContent = '';
                feedbackPart2.className = '';
                hintDisplay.textContent = ''; // Clear previous hint
                hintDisplay.classList.add('hidden'); // Hide hint area
                hintButton.disabled = false; // Re-enable hint button
                sentenceInput.disabled = false;
                submitPart2.disabled = false;
                sentenceInput.focus();
            }

            function checkSentenceAnswer() {
                const userAnswer = sentenceInput.value.trim().replace(/[ï¼Ÿã€‚ï¼ï¼Œ\s]/g, ''); // Remove punctuation AND spaces for comparison
                const correctAnswer = shuffledSentences[currentSentenceIndex].correct.replace(/[ï¼Ÿã€‚ï¼ï¼Œ\s]/g, '');
                const fullCorrectSentence = shuffledSentences[currentSentenceIndex].correct;
                const pinyin = shuffledSentences[currentSentenceIndex].pinyin;
                const translation = shuffledSentences[currentSentenceIndex].translation;

                if (!userAnswer) return; // Do nothing if input is empty

                if (userAnswer === correctAnswer) {
                    updateFeedback(feedbackPart2, `HoÃ n háº£o! âœ…\n${fullCorrectSentence}\n(${pinyin})\nNghÄ©a: ${translation}`, 'correct');
                     // Only score once per sentence
                    if (sentenceInput.disabled === false) {
                       scorePart2++;
                    }
                    sentenceInput.disabled = true;
                    submitPart2.disabled = true;
                    hintButton.disabled = true;
                    setTimeout(() => {
                        currentSentenceIndex++;
                        loadSentenceQuestion();
                    }, 3000); // Longer delay to read feedback
                } else {
                    updateFeedback(feedbackPart2, 'ChÆ°a Ä‘Ãºng láº¯m, thá»­ láº¡i xem nÃ o hoáº·c dÃ¹ng gá»£i Ã½.', 'incorrect');
                    sentenceInput.select();
                }
            }

            function showHint() {
                if (currentSentenceIndex < shuffledSentences.length) {
                    const currentSentence = shuffledSentences[currentSentenceIndex];
                    // Show Pinyin and Translation in the hint area
                    updateFeedback(hintDisplay, `Gá»£i Ã½ Pinyin: ${currentSentence.pinyin}\nNghÄ©a: ${currentSentence.translation}`, 'info');
                    hintDisplay.classList.remove('hidden');
                     // Only count hint use once per question
                    if (hintButton.disabled === false) {
                       hintsUsed++;
                    }
                    hintButton.disabled = true; // Disable after one use per question
                }
            }

            function showSummary() {
                currentPart = 3;
                hideAllSections();
                summaryArea.classList.remove('hidden');

                summaryP1Total.textContent = shuffledVocab.length;
                summaryP1Correct.textContent = scorePart1;
                summaryP1Notes.textContent = `ÄÃºng láº§n Ä‘áº§u: ${part1CorrectFirstTry}, Hiá»‡n Ä‘Ã¡p Ã¡n: ${part1Revealed}`;

                summaryP2Total.textContent = shuffledSentences.length;
                summaryP2Correct.textContent = scorePart2;
                summaryP2Notes.textContent = `Sá»­ dá»¥ng gá»£i Ã½: ${hintsUsed} láº§n`;
            }


            // --- Event Listeners ---
            startButton.addEventListener('click', startGame);
            submitPart1.addEventListener('click', checkVocabAnswer);
            // Allow pressing Enter in input field for Part 1
            hanziInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter' && !submitPart1.disabled) { // Check if button is enabled
                    checkVocabAnswer();
                }
            });

            submitPart2.addEventListener('click', checkSentenceAnswer);
            // Allow pressing Enter in input field for Part 2
            sentenceInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter' && !submitPart2.disabled) { // Check if button is enabled
                    checkSentenceAnswer();
                }
            });
            hintButton.addEventListener('click', showHint);
            restartButton.addEventListener('click', startGame); // Restart button calls startGame again

        });
    </script>
    </body>
</html>